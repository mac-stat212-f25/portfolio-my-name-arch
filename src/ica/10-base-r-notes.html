<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>10 Base R – COMP/STAT212 Portfolio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../src/ica/09-functions-notes.html" rel="next">
<link href="../../src/ica/03-adv-ggplot-notes.html" rel="prev">
<script src="../../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-b53751a350365c71b6c909e95f209ed1.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-463f7e572b85bff0cfe833e89a202fa4.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-2b27489b1280a247593da265a4955406.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script><style>html{ scroll-behavior: smooth; }</style>
<link rel="stylesheet" href="../../style/custom.css">
</head>
<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../src/ica/ica-sample1.html">In-Class Activities</a></li><li class="breadcrumb-item"><a href="../../src/ica/10-base-r-notes.html"><span class="chapter-title">10 Base R</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../../index.html" class="sidebar-logo-link">
      <img src="../../assets/sidebar-logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none"></a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">Your Name Here</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Prof Viz</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../src/pv/pv-01.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Professional Viz Sample</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">TidyTuesday</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../src/tt/2025-07-08.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">TidyTuesday Sample 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../src/tt/2025-07-15.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">TT1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../src/tt/hw04-tt.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Homework 04</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">In-Class Activities</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../src/ica/ica-sample1.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">ICA Sample 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../src/ica/ica-sample2.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">ICA Sample 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../src/ica/cleaning.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Cleaning SFO Weather Data</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../src/ica/03-adv-ggplot-notes.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">3 Advanced Data Viz</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../src/ica/10-base-r-notes.html" class="sidebar-item-text sidebar-link active"><span class="chapter-title">10 Base R</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../src/ica/09-functions-notes.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">9 Functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../src/ica/06-wrangling-1-notes.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">6 Adv Data wrangling P1</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../src/appx/appx-sample1.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Appendix Sample 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../src/appx/appx-sample2.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Appendix Sample 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../mm/mm.html" class="sidebar-item-text sidebar-link"><span class="chapter-title">Mind Maps</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#learning-goals" id="toc-learning-goals" class="nav-link active" data-scroll-target="#learning-goals">🧩 Learning Goals</a></li>
  <li><a href="#common-r-object-structures" id="toc-common-r-object-structures" class="nav-link" data-scroll-target="#common-r-object-structures">Common R Object Structures</a></li>
  <li><a href="#other-common-r-object-structures" id="toc-other-common-r-object-structures" class="nav-link" data-scroll-target="#other-common-r-object-structures">Other Common R Object Structures</a></li>
  <li><a href="#base-r-subsetting" id="toc-base-r-subsetting" class="nav-link" data-scroll-target="#base-r-subsetting">Base R Subsetting</a></li>
  <li><a href="#selecting-elements-with" id="toc-selecting-elements-with" class="nav-link" data-scroll-target="#selecting-elements-with">Selecting elements with <code>[</code></a></li>
  <li><a href="#subsetting-matricies-and-data-frames-with" id="toc-subsetting-matricies-and-data-frames-with" class="nav-link" data-scroll-target="#subsetting-matricies-and-data-frames-with">Subsetting Matricies and Data Frames with <code>[</code></a></li>
  <li><a href="#selecting-a-single-element-with-and" id="toc-selecting-a-single-element-with-and" class="nav-link" data-scroll-target="#selecting-a-single-element-with-and">Selecting a single element with <code>$</code> and <code>[[</code></a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises">Exercises</a></li>
  <li><a href="#exploring-the-structure-of-an-object-with-str" id="toc-exploring-the-structure-of-an-object-with-str" class="nav-link" data-scroll-target="#exploring-the-structure-of-an-object-with-str">Exploring the structure of an object with <code>str()</code></a></li>
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise">Exercise</a></li>
  <li><a href="#done" id="toc-done" class="nav-link" data-scroll-target="#done">Done!</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content column-body" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../src/ica/ica-sample1.html">In-Class Activities</a></li><li class="breadcrumb-item"><a href="../../src/ica/10-base-r-notes.html"><span class="chapter-title">10 Base R</span></a></li></ol></nav><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span class="chapter-title">10 Base R</span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta column-body">

    
  
    
  </div>
  


</header><section id="learning-goals" class="level2"><h2 class="anchored" data-anchor-id="learning-goals">🧩 Learning Goals</h2>
<p>By the end of this lesson, you should be able to:</p>
<ul>
<li>Identify and define the properties of common structures in R</li>
<li>Subset vectors and lists with <code>[</code> by index, name, logical vector, and indirectly with objects</li>
<li>Subset data frames and lists with <code>$</code> and <code>[[</code>
</li>
<li>Use the <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> function to examine the structure of an unfamiliar object and extract components from the object</li>
<li>Apply printing strategies to streamline the debugging and development process</li>
</ul></section><section id="common-r-object-structures" class="level2"><h2 class="anchored" data-anchor-id="common-r-object-structures">Common R Object Structures</h2>
<p><strong>Vector</strong>: A vector is a <strong>collection of elements</strong> of the <strong>same type</strong> (e.g., numeric, integer, character, logical).</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a>num_vec <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"numeric"</span>, <span class="at">length =</span> <span class="dv">2</span>) <span class="co">#empty vector: Zeros</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>num_vec</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 0 0</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">class</span>(num_vec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">length</span>(num_vec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>log_vec <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"logical"</span>, <span class="at">length =</span> <span class="dv">3</span>) <span class="co">#empty vector: FALSE</span></span>
<span id="cb7-2"><a href="#cb7-2"></a>log_vec</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE FALSE FALSE</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">class</span>(log_vec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "logical"</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">length</span>(log_vec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>chr_vec <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"character"</span>, <span class="at">length =</span> <span class="dv">4</span>) <span class="co">#empty vector: empty strings</span></span>
<span id="cb13-2"><a href="#cb13-2"></a>chr_vec</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "" "" "" ""</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">class</span>(chr_vec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">length</span>(chr_vec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<ul>
<li><em>Fun Fact: A vector can have names for each of its elements.</em></li>
</ul>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>named_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'name1'</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">'name2'</span> <span class="ot">=</span> <span class="dv">2</span>) <span class="co"># Named numeric vector</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>named_vec</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>name1 name2 
    1     2 </code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">class</span>(named_vec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="fu">length</span>(named_vec)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
</div>
<p><strong>List</strong>: A list is a collection of elements (e.g., vectors, matrices, data frames, other lists).</p>
<ul>
<li>A list can have different types of elements.</li>
<li>A list can have names for its elements.</li>
</ul>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>ex_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">b =</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>), <span class="at">c =</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">nrow =</span> <span class="dv">2</span>))</span>
<span id="cb25-2"><a href="#cb25-2"></a>ex_list</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>$a
[1] 1 2 3

$b
[1] "a" "b" "c"

$c
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="fu">class</span>(ex_list)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">length</span>(ex_list) <span class="co"># number of elements in a list</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</section><section id="other-common-r-object-structures" class="level2"><h2 class="anchored" data-anchor-id="other-common-r-object-structures">Other Common R Object Structures</h2>
<p><strong>Array</strong>: An array is a <strong>vector</strong> with a dimension attribute.</p>
<ul>
<li>Like a vector, an array can only have one type of data (e.g., numeric, character).</li>
</ul>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>ary <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>))</span>
<span id="cb31-2"><a href="#cb31-2"></a>ary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>, , 1

     [,1] [,2] [,3]
[1,]   NA   NA   NA
[2,]   NA   NA   NA

, , 2

     [,1] [,2] [,3]
[1,]   NA   NA   NA
[2,]   NA   NA   NA

, , 3

     [,1] [,2] [,3]
[1,]   NA   NA   NA
[2,]   NA   NA   NA

, , 4

     [,1] [,2] [,3]
[1,]   NA   NA   NA
[2,]   NA   NA   NA</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a><span class="fu">class</span>(ary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "array"</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a><span class="fu">length</span>(ary) <span class="co"># The number of elements in a array is the product of its dimensions</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 24</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a><span class="fu">dim</span>(ary) <span class="co"># Get the dimensions of the array</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 2 3 4</code></pre>
</div>
</div>
<p><strong>Matrix</strong>: A matrix is an <strong>array</strong> with only 2 dimensions (rows, columns).</p>
<ul>
<li>Like a vector, a matrix can only have one type of data (e.g., numeric, character).</li>
</ul>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb39-2"><a href="#cb39-2"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3]
[1,]   NA   NA   NA
[2,]   NA   NA   NA</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a><span class="fu">class</span>(m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "matrix" "array" </code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a><span class="fu">length</span>(m) <span class="co"># The number of elements in a matrix is the product of its dimensions</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="fu">dim</span>(m) <span class="co"># Get the dimensions of the matrix</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 2 3</code></pre>
</div>
</div>
<p><strong>Data Frame/tibble</strong>: A data frame is a named <strong>list</strong> with <strong>elements</strong> of equal length.</p>
<ul>
<li>Each element is a “column” in the data frame.</li>
<li>The columns can be of different types (e.g., character, numeric, logical, lists, etc.).</li>
<li>Data frames are the most common way to store data in R.</li>
<li><a href="https://tibble.tidyverse.org/reference/tbl_df-class.html">Tibbles do less and complain more than base data.frames</a></li>
</ul>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb47-2"><a href="#cb47-2"></a>mod_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">y =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">10</span>))</span>
<span id="cb47-3"><a href="#cb47-3"></a></span>
<span id="cb47-4"><a href="#cb47-4"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">b =</span> <span class="fu">c</span>(<span class="st">"constant"</span>, <span class="st">"x"</span>, <span class="st">"x squared"</span>), <span class="at">d =</span> <span class="fu">list</span>(<span class="fu">lm</span>(y <span class="sc">~</span> <span class="dv">1</span>, <span class="at">data =</span> mod_df), <span class="fu">lm</span>(y <span class="sc">~</span> x, <span class="at">data =</span> mod_df), <span class="fu">lm</span>(y <span class="sc">~</span> x <span class="sc">+</span> <span class="fu">I</span>(x<span class="sc">^</span><span class="dv">2</span>), <span class="at">data =</span> mod_df)))</span>
<span id="cb47-5"><a href="#cb47-5"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
      a b         d     
  &lt;int&gt; &lt;chr&gt;     &lt;list&gt;
1     1 constant  &lt;lm&gt;  
2     2 x         &lt;lm&gt;  
3     3 x squared &lt;lm&gt;  </code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a><span class="fu">length</span>(df) <span class="co"># number of "elements" in a data frame is the number of "columns"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
</section><section id="base-r-subsetting" class="level2"><h2 class="anchored" data-anchor-id="base-r-subsetting">Base R Subsetting</h2>
<p>The content here comes from Chapter 27 of R4DS, with some small additions.</p>
</section><section id="selecting-elements-with" class="level2"><h2 class="anchored" data-anchor-id="selecting-elements-with">Selecting elements with <code>[</code>
</h2>
<p>We can subset common R structures and <strong>maintain the class structure</strong> with <code>[ ]</code>.</p>
<p>There are four main types of things that you can subset with, i.e., that can be the <code>i</code> in <code>x[i]</code>:</p>
<ol type="1">
<li>
<strong>A vector of positive integers</strong>. Subsetting with positive integers keeps the elements at those positions:</li>
</ol>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a><span class="co"># Vectors</span></span>
<span id="cb51-2"><a href="#cb51-2"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"one"</span>, <span class="st">"two"</span>, <span class="st">"three"</span>, <span class="st">"four"</span>, <span class="st">"five"</span>)</span>
<span id="cb51-3"><a href="#cb51-3"></a>x[<span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">5</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "three" "two"   "five" </code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>x[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "two"   "three" "four" </code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a><span class="fu">class</span>(x[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>]) <span class="co"># result is a character vector</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a><span class="co"># Lists</span></span>
<span id="cb57-2"><a href="#cb57-2"></a>y <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">b =</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>), <span class="at">c =</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">nrow =</span> <span class="dv">2</span>))</span>
<span id="cb57-3"><a href="#cb57-3"></a>y[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>$a
[1] 1 2 3

$b
[1] "a" "b" "c"</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a><span class="fu">class</span>(y[<span class="fu">c</span>(<span class="dv">1</span>)]) <span class="co"># result is a list</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "list"</code></pre>
</div>
</div>
<p>By repeating a position, you can actually make a longer output than input, making the term “subsetting” a bit of a misnomer.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a><span class="co"># Vector</span></span>
<span id="cb61-2"><a href="#cb61-2"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "one" "one" "two"</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a><span class="co"># List</span></span>
<span id="cb63-2"><a href="#cb63-2"></a>y[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>$a
[1] 1 2 3

$a
[1] 1 2 3

$b
[1] "a" "b" "c"</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>
<strong>A vector of negative integers</strong>. Negative values drop the elements at the specified positions:</li>
</ol>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a><span class="co"># Vector</span></span>
<span id="cb65-2"><a href="#cb65-2"></a>x[<span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">3</span>, <span class="sc">-</span><span class="dv">5</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "two"  "four"</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a><span class="co"># List</span></span>
<span id="cb67-2"><a href="#cb67-2"></a>y[<span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>$b
[1] "a" "b" "c"

$c
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>
<strong>A logical vector</strong>. Subsetting with a logical vector only keeps values corresponding to <code>TRUE</code>. This is generally used with comparison functions and operators.</li>
</ol>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a><span class="co"># Vector</span></span>
<span id="cb69-2"><a href="#cb69-2"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">3</span>, <span class="cn">NA</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">1</span>, <span class="cn">NA</span>)</span>
<span id="cb69-3"><a href="#cb69-3"></a></span>
<span id="cb69-4"><a href="#cb69-4"></a><span class="co"># All non-missing values of x</span></span>
<span id="cb69-5"><a href="#cb69-5"></a>x[<span class="sc">!</span><span class="fu">is.na</span>(x)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 10  3  5  8  1</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a><span class="co"># All values greater than 5, with NAs</span></span>
<span id="cb71-2"><a href="#cb71-2"></a>x[x <span class="sc">&gt;</span> <span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 10 NA  8 NA</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a><span class="co"># All non-missing values greater than 5</span></span>
<span id="cb73-2"><a href="#cb73-2"></a>x[x <span class="sc">&gt;</span> <span class="dv">5</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(x)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 10  8</code></pre>
</div>
</div>
<p>Unlike <code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code>, <code>NA</code> indices will be included in the output as <code>NA</code>s unless you explicitly remove them (<code><a href="https://rdrr.io/r/stats/filter.html">filter()</a></code> removes instances of missing values by default.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a><span class="co"># Compare with filter </span></span>
<span id="cb75-2"><a href="#cb75-2"></a><span class="fu">filter</span>(<span class="fu">tibble</span>(<span class="at">x =</span> x), x <span class="sc">&gt;</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 1
      x
  &lt;dbl&gt;
1    10
2     8</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a><span class="co"># List</span></span>
<span id="cb77-2"><a href="#cb77-2"></a>y[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>$a
[1] 1 2 3

$c
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a>y[y <span class="sc">|&gt;</span> <span class="fu">map_lgl</span>(<span class="sc">~</span> <span class="fu">is.numeric</span>(.x))] <span class="co"># example of a map function!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>$a
[1] 1 2 3

$c
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a>y[y <span class="sc">|&gt;</span> <span class="fu">map_lgl</span>(<span class="sc">~</span> <span class="fu">is.character</span>(.x))]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>$b
[1] "a" "b" "c"</code></pre>
</div>
</div>
<ol start="4" type="1">
<li>
<strong>A character vector</strong>. If you have a named vector or list, you can subset it with a character vector:</li>
</ol>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a><span class="co"># Named Vector</span></span>
<span id="cb83-2"><a href="#cb83-2"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">abc =</span> <span class="dv">1</span>, <span class="at">def =</span> <span class="dv">2</span>, <span class="at">xyz =</span> <span class="dv">5</span>)</span>
<span id="cb83-3"><a href="#cb83-3"></a>x[<span class="fu">c</span>(<span class="st">"xyz"</span>, <span class="st">"def"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>xyz def 
  5   2 </code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a>x[<span class="fu">c</span>(<span class="st">"xyz"</span>,<span class="st">"xyz"</span>,<span class="st">"xyz"</span>, <span class="st">"def"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>xyz xyz xyz def 
  5   5   5   2 </code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a><span class="co">#Named List</span></span>
<span id="cb87-2"><a href="#cb87-2"></a>y[<span class="fu">c</span>(<span class="st">'a'</span>,<span class="st">'a'</span>,<span class="st">'c'</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>$a
[1] 1 2 3

$a
[1] 1 2 3

$c
     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6</code></pre>
</div>
</div>
<p>As with subsetting with positive integers, you can use a character vector to duplicate individual entries.</p>
<p><strong>Be very wary of vector recycling when doing this!</strong> The number of things that you’re inserting should either be 1 or the size of the <code>x[i]</code> subset.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">first =</span> <span class="st">"one"</span>, <span class="at">second =</span> <span class="st">"two"</span>, <span class="at">third =</span> <span class="st">"three"</span>, <span class="at">fourth =</span> <span class="st">"four"</span>)</span>
<span id="cb89-2"><a href="#cb89-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>  first  second   third  fourth 
  "one"   "two" "three"  "four" </code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)] <span class="ot">&lt;-</span> <span class="st">"new"</span> <span class="co"># Replacement length is 1</span></span>
<span id="cb91-2"><a href="#cb91-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> first second  third fourth 
 "new"  "two"  "new" "four" </code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">first =</span> <span class="st">"one"</span>, <span class="at">second =</span> <span class="st">"two"</span>, <span class="at">third =</span> <span class="st">"three"</span>, <span class="at">fourth =</span> <span class="st">"four"</span>)</span>
<span id="cb93-2"><a href="#cb93-2"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"new1"</span>, <span class="st">"new2"</span>) <span class="co"># Replacement length is 2, and length of subset is 2</span></span>
<span id="cb93-3"><a href="#cb93-3"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> first second  third fourth 
"new1"  "two" "new2" "four" </code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">first =</span> <span class="st">"one"</span>, <span class="at">second =</span> <span class="st">"two"</span>, <span class="at">third =</span> <span class="st">"three"</span>, <span class="at">fourth =</span> <span class="st">"four"</span>)</span>
<span id="cb95-2"><a href="#cb95-2"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"new1"</span>, <span class="st">"new2"</span>) <span class="co"># BAD! Replacement length is 2, and length of subset is 3</span></span>
<span id="cb95-3"><a href="#cb95-3"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> first second  third fourth 
"new1"  "two" "new2" "new1" </code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">first =</span> <span class="st">"one"</span>, <span class="at">second =</span> <span class="st">"two"</span>, <span class="at">third =</span> <span class="st">"three"</span>, <span class="at">fourth =</span> <span class="st">"four"</span>)</span>
<span id="cb97-2"><a href="#cb97-2"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"new1"</span>, <span class="st">"new2"</span>, <span class="st">"new3"</span>) <span class="co"># BAD! Replacement length is 3, and length of subset is 2</span></span>
<span id="cb97-3"><a href="#cb97-3"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> first second  third fourth 
"new1"  "two" "new2" "four" </code></pre>
</div>
</div>
</section><section id="subsetting-matricies-and-data-frames-with" class="level2"><h2 class="anchored" data-anchor-id="subsetting-matricies-and-data-frames-with">Subsetting Matricies and Data Frames with <code>[</code>
</h2>
<p>All of the above subsetting options can be used for subsetting matrices and data frames (named list of elements of equal length).</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a>m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">4</span>)</span>
<span id="cb99-2"><a href="#cb99-2"></a>m</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    4    7   10
[2,]    2    5    8   11
[3,]    3    6    9   12</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a>m[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="co"># Matrix = vector (down the columns) with dimensions</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5</code></pre>
</div>
</div>
<p>You can use a comma to subset by rows and columns separately.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a>m[<span class="dv">1</span>,] <span class="co"># Get 1st row</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1]  1  4  7 10</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a>m[,<span class="dv">1</span>] <span class="co"># Get 1st column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3</code></pre>
</div>
</div>
<p>. . .</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a>m[<span class="dv">1</span>,<span class="dv">3</span>] <span class="co"># Get 1st row and 3rd column</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1"></a>m[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>),] <span class="co"># Get 1st and 3rd rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    1    4    7   10
[2,]    3    6    9   12</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb111"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1"></a>m[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)] <span class="co"># Get 1st and 3rd columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    1    7
[2,]    2    8
[3,]    3    9</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb113"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1"></a>m[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>),<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)] <span class="co"># Get 1st and 3rd rows and 1st and 3rd columns</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2]
[1,]    1    7
[2,]    3    9</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1"></a>m[<span class="sc">-</span><span class="dv">1</span>,] <span class="co"># Get all rows except 1st</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4]
[1,]    2    5    8   11
[2,]    3    6    9   12</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a>m[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>),] <span class="co"># Get the 1st row via a logical</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1]  1  4  7 10</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1"></a><span class="co"># Add row and column names to the matrix</span></span>
<span id="cb119-2"><a href="#cb119-2"></a><span class="fu">colnames</span>(m) <span class="ot">&lt;-</span> <span class="fu">str_c</span>(<span class="st">"col"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb119-3"><a href="#cb119-3"></a><span class="fu">rownames</span>(m) <span class="ot">&lt;-</span> <span class="fu">str_c</span>(<span class="st">"row"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb119-4"><a href="#cb119-4"></a>m[<span class="st">"row1"</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>col1 col2 col3 col4 
   1    4    7   10 </code></pre>
</div>
</div>
</section><section id="selecting-a-single-element-with-and" class="level2"><h2 class="anchored" data-anchor-id="selecting-a-single-element-with-and">Selecting a single element with <code>$</code> and <code>[[</code>
</h2>
<p>We can use <code>$</code> and <code>[[</code> to extract a single column of a data frame or an element within a list. This <strong>breaks out of the original class structure</strong>.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb121"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1"></a>mtcars</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>                     mpg cyl  disp  hp drat    wt  qsec vs am gear carb
Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb123"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1"></a>mtcars<span class="sc">$</span>mpg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4
[16] 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4 15.8 19.7
[31] 15.0 21.4</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb125"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1"></a>mtcars[[<span class="st">"mpg"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4
[16] 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4 15.8 19.7
[31] 15.0 21.4</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb127"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1"></a>mtcars <span class="sc">|&gt;</span> <span class="fu">pull</span>(mpg)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4
[16] 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4 15.8 19.7
[31] 15.0 21.4</code></pre>
</div>
</div>
</section><section id="exercises" class="level2"><h2 class="anchored" data-anchor-id="exercises">Exercises</h2>
<ol type="1">
<li>
<strong>Subsetting Functions</strong> For each of the tasks below, write a function that take a vector as input returns the desired output:</li>
</ol>
<ol type="a">
<li>The elements at even-numbered positions. (Hint: use the <code><a href="https://rdrr.io/r/base/seq.html">seq()</a></code> function.)</li>
<li>Every element except the last value.</li>
<li>Only even values (and no missing values).</li>
</ol></section><section id="exploring-the-structure-of-an-object-with-str" class="level2"><h2 class="anchored" data-anchor-id="exploring-the-structure-of-an-object-with-str">Exploring the structure of an object with <code>str()</code>
</h2>
<p>The <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> function shows you the structure of an object and is useful for exploring model objects and objects created from packages that are new to you.</p>
<p>In the output of <code><a href="https://rdrr.io/r/utils/str.html">str()</a></code> dollar signs indicate named components of a list that can be extracted via <code>$</code> or <code>[[</code>.</p>
<p>. . .</p>
<p>We see that both <code>mod</code> and <code>mod_summ</code> are lists, so we can also interactively view these objects with <code>View(mod)</code> and <code>View(mod_summ)</code> in the Console.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb129"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1"></a>mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> hp <span class="sc">+</span> wt, <span class="at">data =</span> mtcars)</span>
<span id="cb129-2"><a href="#cb129-2"></a>mod_summ <span class="ot">&lt;-</span> <span class="fu">summary</span>(mod)</span>
<span id="cb129-3"><a href="#cb129-3"></a></span>
<span id="cb129-4"><a href="#cb129-4"></a><span class="fu">str</span>(mod)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>List of 12
 $ coefficients : Named num [1:3] 37.2273 -0.0318 -3.8778
  ..- attr(*, "names")= chr [1:3] "(Intercept)" "hp" "wt"
 $ residuals    : Named num [1:32] -2.572 -1.583 -2.476 0.135 0.373 ...
  ..- attr(*, "names")= chr [1:32] "Mazda RX4" "Mazda RX4 Wag" "Datsun 710" "Hornet 4 Drive" ...
 $ effects      : Named num [1:32] -113.65 -26.046 -15.894 0.447 0.662 ...
  ..- attr(*, "names")= chr [1:32] "(Intercept)" "hp" "wt" "" ...
 $ rank         : int 3
 $ fitted.values: Named num [1:32] 23.6 22.6 25.3 21.3 18.3 ...
  ..- attr(*, "names")= chr [1:32] "Mazda RX4" "Mazda RX4 Wag" "Datsun 710" "Hornet 4 Drive" ...
 $ assign       : int [1:3] 0 1 2
 $ qr           :List of 5
  ..$ qr   : num [1:32, 1:3] -5.657 0.177 0.177 0.177 0.177 ...
  .. ..- attr(*, "dimnames")=List of 2
  .. .. ..$ : chr [1:32] "Mazda RX4" "Mazda RX4 Wag" "Datsun 710" "Hornet 4 Drive" ...
  .. .. ..$ : chr [1:3] "(Intercept)" "hp" "wt"
  .. ..- attr(*, "assign")= int [1:3] 0 1 2
  ..$ qraux: num [1:3] 1.18 1.08 1.09
  ..$ pivot: int [1:3] 1 2 3
  ..$ tol  : num 1e-07
  ..$ rank : int 3
  ..- attr(*, "class")= chr "qr"
 $ df.residual  : int 29
 $ xlevels      : Named list()
 $ call         : language lm(formula = mpg ~ hp + wt, data = mtcars)
 $ terms        :Classes 'terms', 'formula'  language mpg ~ hp + wt
  .. ..- attr(*, "variables")= language list(mpg, hp, wt)
  .. ..- attr(*, "factors")= int [1:3, 1:2] 0 1 0 0 0 1
  .. .. ..- attr(*, "dimnames")=List of 2
  .. .. .. ..$ : chr [1:3] "mpg" "hp" "wt"
  .. .. .. ..$ : chr [1:2] "hp" "wt"
  .. ..- attr(*, "term.labels")= chr [1:2] "hp" "wt"
  .. ..- attr(*, "order")= int [1:2] 1 1
  .. ..- attr(*, "intercept")= int 1
  .. ..- attr(*, "response")= int 1
  .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; 
  .. ..- attr(*, "predvars")= language list(mpg, hp, wt)
  .. ..- attr(*, "dataClasses")= Named chr [1:3] "numeric" "numeric" "numeric"
  .. .. ..- attr(*, "names")= chr [1:3] "mpg" "hp" "wt"
 $ model        :'data.frame':  32 obs. of  3 variables:
  ..$ mpg: num [1:32] 21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
  ..$ hp : num [1:32] 110 110 93 110 175 105 245 62 95 123 ...
  ..$ wt : num [1:32] 2.62 2.88 2.32 3.21 3.44 ...
  ..- attr(*, "terms")=Classes 'terms', 'formula'  language mpg ~ hp + wt
  .. .. ..- attr(*, "variables")= language list(mpg, hp, wt)
  .. .. ..- attr(*, "factors")= int [1:3, 1:2] 0 1 0 0 0 1
  .. .. .. ..- attr(*, "dimnames")=List of 2
  .. .. .. .. ..$ : chr [1:3] "mpg" "hp" "wt"
  .. .. .. .. ..$ : chr [1:2] "hp" "wt"
  .. .. ..- attr(*, "term.labels")= chr [1:2] "hp" "wt"
  .. .. ..- attr(*, "order")= int [1:2] 1 1
  .. .. ..- attr(*, "intercept")= int 1
  .. .. ..- attr(*, "response")= int 1
  .. .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; 
  .. .. ..- attr(*, "predvars")= language list(mpg, hp, wt)
  .. .. ..- attr(*, "dataClasses")= Named chr [1:3] "numeric" "numeric" "numeric"
  .. .. .. ..- attr(*, "names")= chr [1:3] "mpg" "hp" "wt"
 - attr(*, "class")= chr "lm"</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb131"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1"></a><span class="fu">str</span>(mod_summ)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>List of 11
 $ call         : language lm(formula = mpg ~ hp + wt, data = mtcars)
 $ terms        :Classes 'terms', 'formula'  language mpg ~ hp + wt
  .. ..- attr(*, "variables")= language list(mpg, hp, wt)
  .. ..- attr(*, "factors")= int [1:3, 1:2] 0 1 0 0 0 1
  .. .. ..- attr(*, "dimnames")=List of 2
  .. .. .. ..$ : chr [1:3] "mpg" "hp" "wt"
  .. .. .. ..$ : chr [1:2] "hp" "wt"
  .. ..- attr(*, "term.labels")= chr [1:2] "hp" "wt"
  .. ..- attr(*, "order")= int [1:2] 1 1
  .. ..- attr(*, "intercept")= int 1
  .. ..- attr(*, "response")= int 1
  .. ..- attr(*, ".Environment")=&lt;environment: R_GlobalEnv&gt; 
  .. ..- attr(*, "predvars")= language list(mpg, hp, wt)
  .. ..- attr(*, "dataClasses")= Named chr [1:3] "numeric" "numeric" "numeric"
  .. .. ..- attr(*, "names")= chr [1:3] "mpg" "hp" "wt"
 $ residuals    : Named num [1:32] -2.572 -1.583 -2.476 0.135 0.373 ...
  ..- attr(*, "names")= chr [1:32] "Mazda RX4" "Mazda RX4 Wag" "Datsun 710" "Hornet 4 Drive" ...
 $ coefficients : num [1:3, 1:4] 37.22727 -0.03177 -3.87783 1.59879 0.00903 ...
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr [1:3] "(Intercept)" "hp" "wt"
  .. ..$ : chr [1:4] "Estimate" "Std. Error" "t value" "Pr(&gt;|t|)"
 $ aliased      : Named logi [1:3] FALSE FALSE FALSE
  ..- attr(*, "names")= chr [1:3] "(Intercept)" "hp" "wt"
 $ sigma        : num 2.59
 $ df           : int [1:3] 3 29 3
 $ r.squared    : num 0.827
 $ adj.r.squared: num 0.815
 $ fstatistic   : Named num [1:3] 69.2 2 29
  ..- attr(*, "names")= chr [1:3] "value" "numdf" "dendf"
 $ cov.unscaled : num [1:3, 1:3] 3.80e-01 2.21e-05 -1.09e-01 2.21e-05 1.21e-05 ...
  ..- attr(*, "dimnames")=List of 2
  .. ..$ : chr [1:3] "(Intercept)" "hp" "wt"
  .. ..$ : chr [1:3] "(Intercept)" "hp" "wt"
 - attr(*, "class")= chr "summary.lm"</code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb133"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1"></a>get_even_pos <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb133-2"><a href="#cb133-2"></a>    <span class="cf">if</span> (<span class="fu">length</span>(x) <span class="sc">&lt;=</span> <span class="dv">1</span>) {</span>
<span id="cb133-3"><a href="#cb133-3"></a>        <span class="fu">print</span>(<span class="st">"No even positions"</span>)</span>
<span id="cb133-4"><a href="#cb133-4"></a>    } <span class="cf">else</span> {</span>
<span id="cb133-5"><a href="#cb133-5"></a>        idx <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">2</span>, <span class="fu">length</span>(x), <span class="at">by =</span> <span class="dv">2</span>)</span>
<span id="cb133-6"><a href="#cb133-6"></a>        x[idx]</span>
<span id="cb133-7"><a href="#cb133-7"></a>    }</span>
<span id="cb133-8"><a href="#cb133-8"></a>}</span>
<span id="cb133-9"><a href="#cb133-9"></a><span class="fu">get_even_pos</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1]  2  4  6  8 10</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb135"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1"></a><span class="fu">get_even_pos</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 2 4 6 8</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb137"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1"></a><span class="fu">get_even_pos</span>(<span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "No even positions"</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb139"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1"></a>get_all_but_last <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb139-2"><a href="#cb139-2"></a>    <span class="fu">head</span>(x, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb139-3"><a href="#cb139-3"></a>    <span class="co"># x[1:(length(x)-1)]</span></span>
<span id="cb139-4"><a href="#cb139-4"></a>}</span>
<span id="cb139-5"><a href="#cb139-5"></a><span class="fu">get_all_but_last</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 1 2 3 4 5 6 7 8 9</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb141"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1"></a>get_evens <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb141-2"><a href="#cb141-2"></a>    x[x <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(x)]</span>
<span id="cb141-3"><a href="#cb141-3"></a>}</span>
<span id="cb141-4"><a href="#cb141-4"></a></span>
<span id="cb141-5"><a href="#cb141-5"></a><span class="fu">get_evens</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">7</span>, <span class="cn">NA</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 2</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb143"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1"></a><span class="fu">get_evens</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="cn">NA</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] 2 8</code></pre>
</div>
</div>
</section><section id="exercise" class="level2"><h2 class="anchored" data-anchor-id="exercise">Exercise</h2>
<ol start="2" type="1">
<li>
<strong>CI Function</strong> Write a function that fits a linear model on the dataset using the given outcome and predictor variables and return a data frame (<code>tibble</code>) with the coefficient estimate and CI for the predictor of interest. It should take the following inputs:</li>
</ol>
<ul>
<li>
<code>data</code>: A dataset</li>
<li>
<code>yvar</code>: Outcome variable to be used in a linear model (a length-1 character vector)</li>
<li>
<code>preds</code>: Predictor variables to be used in a linear model (a character vector)</li>
<li>
<code>pred_of_interest</code>: The variable whose coefficient estimate and confidence interval are of interest (a length-1 character vector and should be one of <code>preds</code>)</li>
</ul>
<p>Development tip: As you develop, it will help to create objects for the arguments so that you can see what output looks like interactively:</p>
<p>Test your function on the <code>mtcars</code> dataset.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb145"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1"></a>data <span class="ot">&lt;-</span> mtcars</span>
<span id="cb145-2"><a href="#cb145-2"></a>yvar <span class="ot">&lt;-</span> <span class="st">"mpg"</span></span>
<span id="cb145-3"><a href="#cb145-3"></a>preds <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"hp"</span>, <span class="st">"wt"</span>)</span>
<span id="cb145-4"><a href="#cb145-4"></a>pred_of_interest <span class="ot">&lt;-</span> <span class="st">"hp"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>When you’re done developing your function, remove these objects to declutter your environment by entering <code>rm(data, yvar, preds, pred_of_interest)</code> in the Console.</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb146"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1"></a>fit_mod_and_extract <span class="ot">&lt;-</span> <span class="cf">function</span>(data, yvar, preds, pred_of_interest) {</span>
<span id="cb146-2"><a href="#cb146-2"></a>    <span class="co"># Use str_c to create a string (formula_str) that looks like "yvar ~ pred1 + pred2"</span></span>
<span id="cb146-3"><a href="#cb146-3"></a>    <span class="co"># Look at the documentation for a helpful argument</span></span>
<span id="cb146-4"><a href="#cb146-4"></a>    mod_formula_str <span class="ot">&lt;-</span> <span class="fu">str_c</span>(yvar, <span class="st">"~"</span>, <span class="fu">str_c</span>(preds, <span class="at">collapse =</span> <span class="st">"+"</span>))</span>
<span id="cb146-5"><a href="#cb146-5"></a>    mod_form <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(mod_formula_str)</span>
<span id="cb146-6"><a href="#cb146-6"></a>    </span>
<span id="cb146-7"><a href="#cb146-7"></a>    <span class="co"># Fit a linear model using the constructed formula and given data</span></span>
<span id="cb146-8"><a href="#cb146-8"></a>    mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(mod_form, <span class="at">data =</span> data)</span>
<span id="cb146-9"><a href="#cb146-9"></a>    </span>
<span id="cb146-10"><a href="#cb146-10"></a>    <span class="co"># Obtain 95% confidence interval</span></span>
<span id="cb146-11"><a href="#cb146-11"></a>    ci <span class="ot">&lt;-</span> <span class="fu">confint</span>(mod, <span class="at">level =</span> <span class="fl">0.95</span>)</span>
<span id="cb146-12"><a href="#cb146-12"></a>    </span>
<span id="cb146-13"><a href="#cb146-13"></a>    <span class="co"># Return the coefficient estimate and CI for the predictor of interest</span></span>
<span id="cb146-14"><a href="#cb146-14"></a>    <span class="fu">tibble</span>(</span>
<span id="cb146-15"><a href="#cb146-15"></a>        <span class="at">which_pred =</span> pred_of_interest,</span>
<span id="cb146-16"><a href="#cb146-16"></a>        <span class="at">estimate =</span> mod<span class="sc">$</span>coefficients[pred_of_interest],</span>
<span id="cb146-17"><a href="#cb146-17"></a>        <span class="at">ci_lower =</span> ci[pred_of_interest, <span class="st">"2.5 %"</span>],</span>
<span id="cb146-18"><a href="#cb146-18"></a>        <span class="at">ci_upper =</span> ci[pred_of_interest, <span class="st">"97.5 %"</span>]</span>
<span id="cb146-19"><a href="#cb146-19"></a>    )</span>
<span id="cb146-20"><a href="#cb146-20"></a>}</span>
<span id="cb146-21"><a href="#cb146-21"></a></span>
<span id="cb146-22"><a href="#cb146-22"></a></span>
<span id="cb146-23"><a href="#cb146-23"></a><span class="fu">fit_mod_and_extract</span>(<span class="at">data =</span> mtcars, <span class="at">yvar =</span> <span class="st">"mpg"</span>, <span class="at">preds =</span> <span class="fu">c</span>(<span class="st">"hp"</span>, <span class="st">"wt"</span>), <span class="at">pred_of_interest =</span> <span class="st">"hp"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<pre><code>



## Debugging Strategies   

When writing functions and working with functions that you wrote, you may encounter errors that are hard to figure out. 

Here are some strategies to help you debug the issues you encounter:

- Use `print()` and `cat()` to print out intermediate results and messages within a function.
  - Examples: `print(x)`, `cat("The value of x is", x, "\n")`

::: {.cell}

```{.r .cell-code}
My_own_sum &lt;- function(x){
  print(x)
  return(sum(x))
}
My_own_sum(c(1,2,3))

My_own_sum &lt;- function(x){
  cat("The value of x is", x, "\n")
  cat("The class of x is", class(x), "\n")
  return(sum(x))
}

My_own_sum(c(1,2,3))</code></pre>
<p>:::</p>
<ul>
<li>Use <code><a href="https://rdrr.io/r/base/browser.html">browser()</a></code> to pause the function at a certain point and interactively explore the environment. Press “Next” or type <code>n</code> to run the next line of code. Type the name of an object in the Console to see its value at this point in the function. You can type <code>Q</code> to quit the browser.
<ul>
<li>Example below:</li>
</ul>
</li>
</ul>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb148"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1"></a>fit_mod_and_extract <span class="ot">&lt;-</span> <span class="cf">function</span>(data, yvar, preds, pred_of_interest) {</span>
<span id="cb148-2"><a href="#cb148-2"></a>    <span class="co"># Use str_c to create a string (formula_str) that looks like "yvar ~ pred1 + pred2"</span></span>
<span id="cb148-3"><a href="#cb148-3"></a>    <span class="co"># Look at the documentation for a helpful argument</span></span>
<span id="cb148-4"><a href="#cb148-4"></a>    mod_formula_str <span class="ot">&lt;-</span> <span class="fu">str_c</span>(yvar, <span class="st">"~"</span>, <span class="fu">str_c</span>(preds, <span class="at">collapse =</span> <span class="st">"+"</span>))</span>
<span id="cb148-5"><a href="#cb148-5"></a>    mod_form <span class="ot">&lt;-</span> <span class="fu">as.formula</span>(mod_formula_str)</span>
<span id="cb148-6"><a href="#cb148-6"></a>    </span>
<span id="cb148-7"><a href="#cb148-7"></a>    <span class="co"># Add browser() to where in the function you'd like to pause and interact in the function environment using the Console</span></span>
<span id="cb148-8"><a href="#cb148-8"></a>    <span class="fu">browser</span>()</span>
<span id="cb148-9"><a href="#cb148-9"></a>    </span>
<span id="cb148-10"><a href="#cb148-10"></a>    <span class="co"># Fit a linear model using the constructed formula and given data</span></span>
<span id="cb148-11"><a href="#cb148-11"></a>    mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(mod_form, <span class="at">data =</span> data)</span>
<span id="cb148-12"><a href="#cb148-12"></a>    </span>
<span id="cb148-13"><a href="#cb148-13"></a>    <span class="co"># Obtain 95% confidence interval</span></span>
<span id="cb148-14"><a href="#cb148-14"></a>    ci <span class="ot">&lt;-</span> <span class="fu">confint</span>(mod, <span class="at">level =</span> <span class="fl">0.95</span>)</span>
<span id="cb148-15"><a href="#cb148-15"></a>    </span>
<span id="cb148-16"><a href="#cb148-16"></a>    <span class="co"># Return the coefficient estimate and CI for the predictor of interest</span></span>
<span id="cb148-17"><a href="#cb148-17"></a>    <span class="fu">tibble</span>(</span>
<span id="cb148-18"><a href="#cb148-18"></a>        <span class="at">which_pred =</span> pred_of_interest,</span>
<span id="cb148-19"><a href="#cb148-19"></a>        <span class="at">estimate =</span> mod<span class="sc">$</span>coefficients[pred_of_interest],</span>
<span id="cb148-20"><a href="#cb148-20"></a>        <span class="at">ci_lower =</span> ci[pred_of_interest, <span class="st">"2.5 %"</span>],</span>
<span id="cb148-21"><a href="#cb148-21"></a>        <span class="at">ci_upper =</span> ci[pred_of_interest, <span class="st">"97.5 %"</span>]</span>
<span id="cb148-22"><a href="#cb148-22"></a>    )</span>
<span id="cb148-23"><a href="#cb148-23"></a>}</span>
<span id="cb148-24"><a href="#cb148-24"></a></span>
<span id="cb148-25"><a href="#cb148-25"></a></span>
<span id="cb148-26"><a href="#cb148-26"></a><span class="fu">fit_mod_and_extract</span>(<span class="at">data =</span> mtcars, <span class="at">yvar =</span> <span class="st">"mpg"</span>, <span class="at">preds =</span> <span class="fu">c</span>(<span class="st">"hp"</span>, <span class="st">"wt"</span>), <span class="at">pred_of_interest =</span> <span class="st">"hp"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<ul>
<li>Use <code><a href="https://rdrr.io/r/base/try.html">try()</a></code> to catch errors and print out a message when an error occurs.
<ul>
<li>Example below:</li>
</ul>
</li>
</ul>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb149"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1"></a>My_own_sum <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb149-2"><a href="#cb149-2"></a>  <span class="fu">return</span>(<span class="fu">sum</span>(x))</span>
<span id="cb149-3"><a href="#cb149-3"></a>}</span>
<span id="cb149-4"><a href="#cb149-4"></a></span>
<span id="cb149-5"><a href="#cb149-5"></a>results <span class="ot">&lt;-</span> <span class="fu">My_own_sum</span>(<span class="fu">c</span>(<span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-error">
<pre><code>Error in sum(x): invalid 'type' (character) of argument</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb151"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1"></a><span class="fu">class</span>(results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-error">
<pre><code>Error: object 'results' not found</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb153"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1"></a>results <span class="ot">&lt;-</span> <span class="fu">try</span>(<span class="fu">My_own_sum</span>(<span class="fu">c</span>(<span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span>)), <span class="at">silent =</span> <span class="cn">TRUE</span>)</span>
<span id="cb153-2"><a href="#cb153-2"></a><span class="fu">class</span>(results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "try-error"</code></pre>
</div>
</div>
<ul>
<li>Include <code>if else</code> statements within a function to ensure that you are passing the right type of input to a function. You can create you own custom error message with <code><a href="https://rdrr.io/r/base/stop.html">stop()</a></code>.
<ul>
<li>Example below:</li>
</ul>
</li>
</ul>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb155"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1"></a>My_own_sum <span class="ot">&lt;-</span> <span class="cf">function</span>(x){</span>
<span id="cb155-2"><a href="#cb155-2"></a>  <span class="cf">if</span>(<span class="sc">!</span><span class="fu">is.numeric</span>(x)){</span>
<span id="cb155-3"><a href="#cb155-3"></a>    <span class="fu">stop</span>(<span class="st">"Input must be numeric"</span>)</span>
<span id="cb155-4"><a href="#cb155-4"></a>  }</span>
<span id="cb155-5"><a href="#cb155-5"></a>  <span class="fu">return</span>(<span class="fu">sum</span>(x))</span>
<span id="cb155-6"><a href="#cb155-6"></a>}</span>
<span id="cb155-7"><a href="#cb155-7"></a></span>
<span id="cb155-8"><a href="#cb155-8"></a>results <span class="ot">&lt;-</span> <span class="fu">My_own_sum</span>(<span class="fu">c</span>(<span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-error">
<pre><code>Error in My_own_sum(c("a", "b", "c")): Input must be numeric</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb157"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1"></a><span class="fu">class</span>(results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "try-error"</code></pre>
</div>
<details class="code-fold"><summary>Code</summary><div class="sourceCode cell-code" id="cb159"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1"></a>results <span class="ot">&lt;-</span> <span class="fu">try</span>(<span class="fu">My_own_sum</span>(<span class="fu">c</span>(<span class="st">"a"</span>,<span class="st">"b"</span>,<span class="st">"c"</span>)), <span class="at">silent =</span> <span class="cn">TRUE</span>)</span>
<span id="cb159-2"><a href="#cb159-2"></a><span class="fu">class</span>(results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>[1] "try-error"</code></pre>
</div>
</div>
</section><section id="done" class="level2"><h2 class="anchored" data-anchor-id="done">Done!</h2>
<ul>
<li>Check the ICA Instructions for how to (a) push your code to GitHub and (b) update your portfolio website</li>
</ul>


<!-- -->

</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
          // target, if specified
          link.setAttribute("target", "_blank");
          if (link.getAttribute("rel") === null) {
            link.setAttribute("rel", "noopener");
          }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation column-body"><div class="nav-page nav-page-previous">
      <a href="../../src/ica/03-adv-ggplot-notes.html" class="pagination-link" aria-label="3 Advanced Data Viz">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-title">3 Advanced Data Viz</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../../src/ica/09-functions-notes.html" class="pagination-link" aria-label="9 Functions">
        <span class="nav-page-text"><span class="chapter-title">9 Functions</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb161" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb161-1"><a href="#cb161-1"></a><span class="co">---</span></span>
<span id="cb161-2"><a href="#cb161-2"></a><span class="an">title:</span><span class="co"> "10 Base R"</span></span>
<span id="cb161-3"><a href="#cb161-3"></a><span class="co">---</span></span>
<span id="cb161-4"><a href="#cb161-4"></a></span>
<span id="cb161-5"><a href="#cb161-5"></a><span class="fu">## 🧩 Learning Goals</span></span>
<span id="cb161-6"><a href="#cb161-6"></a></span>
<span id="cb161-7"><a href="#cb161-7"></a>By the end of this lesson, you should be able to:</span>
<span id="cb161-8"><a href="#cb161-8"></a></span>
<span id="cb161-9"><a href="#cb161-9"></a><span class="ss">- </span>Identify and define the properties of common structures in R</span>
<span id="cb161-10"><a href="#cb161-10"></a><span class="ss">- </span>Subset vectors and lists with <span class="in">`[`</span> by index, name, logical vector, and indirectly with objects</span>
<span id="cb161-11"><a href="#cb161-11"></a><span class="ss">- </span>Subset data frames and lists with <span class="in">`$`</span> and <span class="in">`[[`</span></span>
<span id="cb161-12"><a href="#cb161-12"></a><span class="ss">- </span>Use the <span class="in">`str()`</span> function to examine the structure of an unfamiliar object and extract components from the object</span>
<span id="cb161-13"><a href="#cb161-13"></a><span class="ss">- </span>Apply printing strategies to streamline the debugging and development process</span>
<span id="cb161-14"><a href="#cb161-14"></a></span>
<span id="cb161-15"><a href="#cb161-15"></a></span>
<span id="cb161-16"><a href="#cb161-16"></a><span class="fu">## Common R Object Structures </span></span>
<span id="cb161-17"><a href="#cb161-17"></a></span>
<span id="cb161-18"><a href="#cb161-18"></a>**Vector**: A vector is a **collection of elements** of the **same type** (e.g., numeric, integer, character, logical).</span>
<span id="cb161-19"><a href="#cb161-19"></a></span>
<span id="cb161-20"><a href="#cb161-20"></a></span>
<span id="cb161-21"><a href="#cb161-21"></a></span>
<span id="cb161-24"><a href="#cb161-24"></a><span class="in">```{r}</span></span>
<span id="cb161-25"><a href="#cb161-25"></a>num_vec <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"numeric"</span>, <span class="at">length =</span> <span class="dv">2</span>) <span class="co">#empty vector: Zeros</span></span>
<span id="cb161-26"><a href="#cb161-26"></a>num_vec</span>
<span id="cb161-27"><a href="#cb161-27"></a><span class="fu">class</span>(num_vec)</span>
<span id="cb161-28"><a href="#cb161-28"></a><span class="fu">length</span>(num_vec)</span>
<span id="cb161-29"><a href="#cb161-29"></a><span class="in">```</span></span>
<span id="cb161-30"><a href="#cb161-30"></a></span>
<span id="cb161-31"><a href="#cb161-31"></a></span>
<span id="cb161-34"><a href="#cb161-34"></a><span class="in">```{r}</span></span>
<span id="cb161-35"><a href="#cb161-35"></a>log_vec <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"logical"</span>, <span class="at">length =</span> <span class="dv">3</span>) <span class="co">#empty vector: FALSE</span></span>
<span id="cb161-36"><a href="#cb161-36"></a>log_vec</span>
<span id="cb161-37"><a href="#cb161-37"></a><span class="fu">class</span>(log_vec)</span>
<span id="cb161-38"><a href="#cb161-38"></a><span class="fu">length</span>(log_vec)</span>
<span id="cb161-39"><a href="#cb161-39"></a><span class="in">```</span></span>
<span id="cb161-40"><a href="#cb161-40"></a></span>
<span id="cb161-41"><a href="#cb161-41"></a></span>
<span id="cb161-44"><a href="#cb161-44"></a><span class="in">```{r}</span></span>
<span id="cb161-45"><a href="#cb161-45"></a>chr_vec <span class="ot">&lt;-</span> <span class="fu">vector</span>(<span class="st">"character"</span>, <span class="at">length =</span> <span class="dv">4</span>) <span class="co">#empty vector: empty strings</span></span>
<span id="cb161-46"><a href="#cb161-46"></a>chr_vec</span>
<span id="cb161-47"><a href="#cb161-47"></a><span class="fu">class</span>(chr_vec)</span>
<span id="cb161-48"><a href="#cb161-48"></a><span class="fu">length</span>(chr_vec)</span>
<span id="cb161-49"><a href="#cb161-49"></a><span class="in">```</span></span>
<span id="cb161-50"><a href="#cb161-50"></a></span>
<span id="cb161-51"><a href="#cb161-51"></a></span>
<span id="cb161-52"><a href="#cb161-52"></a><span class="ss">- </span>*Fun Fact: A vector can have names for each of its elements.*</span>
<span id="cb161-53"><a href="#cb161-53"></a></span>
<span id="cb161-54"><a href="#cb161-54"></a></span>
<span id="cb161-57"><a href="#cb161-57"></a><span class="in">```{r}</span></span>
<span id="cb161-58"><a href="#cb161-58"></a>named_vec <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'name1'</span> <span class="ot">=</span> <span class="dv">1</span>, <span class="st">'name2'</span> <span class="ot">=</span> <span class="dv">2</span>) <span class="co"># Named numeric vector</span></span>
<span id="cb161-59"><a href="#cb161-59"></a>named_vec</span>
<span id="cb161-60"><a href="#cb161-60"></a><span class="fu">class</span>(named_vec)</span>
<span id="cb161-61"><a href="#cb161-61"></a><span class="fu">length</span>(named_vec)</span>
<span id="cb161-62"><a href="#cb161-62"></a><span class="in">```</span></span>
<span id="cb161-63"><a href="#cb161-63"></a></span>
<span id="cb161-64"><a href="#cb161-64"></a></span>
<span id="cb161-65"><a href="#cb161-65"></a></span>
<span id="cb161-66"><a href="#cb161-66"></a>**List**: A list is a collection of elements (e.g., vectors, matrices, data frames, other lists).</span>
<span id="cb161-67"><a href="#cb161-67"></a></span>
<span id="cb161-68"><a href="#cb161-68"></a><span class="ss">- </span>A list can have different types of elements.</span>
<span id="cb161-69"><a href="#cb161-69"></a><span class="ss">- </span>A list can have names for its elements.</span>
<span id="cb161-70"><a href="#cb161-70"></a></span>
<span id="cb161-71"><a href="#cb161-71"></a></span>
<span id="cb161-74"><a href="#cb161-74"></a><span class="in">```{r}</span></span>
<span id="cb161-75"><a href="#cb161-75"></a>ex_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">b =</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>), <span class="at">c =</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">nrow =</span> <span class="dv">2</span>))</span>
<span id="cb161-76"><a href="#cb161-76"></a>ex_list</span>
<span id="cb161-77"><a href="#cb161-77"></a></span>
<span id="cb161-78"><a href="#cb161-78"></a><span class="fu">class</span>(ex_list)</span>
<span id="cb161-79"><a href="#cb161-79"></a><span class="fu">length</span>(ex_list) <span class="co"># number of elements in a list</span></span>
<span id="cb161-80"><a href="#cb161-80"></a></span>
<span id="cb161-81"><a href="#cb161-81"></a><span class="in">```</span></span>
<span id="cb161-82"><a href="#cb161-82"></a></span>
<span id="cb161-83"><a href="#cb161-83"></a><span class="fu">## Other Common R Object Structures </span></span>
<span id="cb161-84"><a href="#cb161-84"></a></span>
<span id="cb161-85"><a href="#cb161-85"></a></span>
<span id="cb161-86"><a href="#cb161-86"></a>**Array**: An array is a **vector** with a dimension attribute.</span>
<span id="cb161-87"><a href="#cb161-87"></a></span>
<span id="cb161-88"><a href="#cb161-88"></a><span class="ss">- </span>Like a vector, an array can only have one type of data (e.g., numeric, character).</span>
<span id="cb161-89"><a href="#cb161-89"></a></span>
<span id="cb161-92"><a href="#cb161-92"></a><span class="in">```{r}</span></span>
<span id="cb161-93"><a href="#cb161-93"></a>ary <span class="ot">&lt;-</span> <span class="fu">array</span>(<span class="cn">NA</span>, <span class="at">dim =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>))</span>
<span id="cb161-94"><a href="#cb161-94"></a>ary</span>
<span id="cb161-95"><a href="#cb161-95"></a></span>
<span id="cb161-96"><a href="#cb161-96"></a><span class="fu">class</span>(ary)</span>
<span id="cb161-97"><a href="#cb161-97"></a><span class="fu">length</span>(ary) <span class="co"># The number of elements in a array is the product of its dimensions</span></span>
<span id="cb161-98"><a href="#cb161-98"></a><span class="fu">dim</span>(ary) <span class="co"># Get the dimensions of the array</span></span>
<span id="cb161-99"><a href="#cb161-99"></a></span>
<span id="cb161-100"><a href="#cb161-100"></a><span class="in">```</span></span>
<span id="cb161-101"><a href="#cb161-101"></a></span>
<span id="cb161-102"><a href="#cb161-102"></a></span>
<span id="cb161-103"><a href="#cb161-103"></a>**Matrix**: A matrix is an **array** with only 2 dimensions (rows, columns).</span>
<span id="cb161-104"><a href="#cb161-104"></a></span>
<span id="cb161-105"><a href="#cb161-105"></a><span class="ss">- </span>Like a vector, a matrix can only have one type of data (e.g., numeric, character).</span>
<span id="cb161-106"><a href="#cb161-106"></a></span>
<span id="cb161-109"><a href="#cb161-109"></a><span class="in">```{r}</span></span>
<span id="cb161-110"><a href="#cb161-110"></a>m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="cn">NA</span>, <span class="at">nrow =</span> <span class="dv">2</span>, <span class="at">ncol =</span> <span class="dv">3</span>)</span>
<span id="cb161-111"><a href="#cb161-111"></a>m</span>
<span id="cb161-112"><a href="#cb161-112"></a></span>
<span id="cb161-113"><a href="#cb161-113"></a><span class="fu">class</span>(m)</span>
<span id="cb161-114"><a href="#cb161-114"></a><span class="fu">length</span>(m) <span class="co"># The number of elements in a matrix is the product of its dimensions</span></span>
<span id="cb161-115"><a href="#cb161-115"></a><span class="fu">dim</span>(m) <span class="co"># Get the dimensions of the matrix</span></span>
<span id="cb161-116"><a href="#cb161-116"></a></span>
<span id="cb161-117"><a href="#cb161-117"></a><span class="in">```</span></span>
<span id="cb161-118"><a href="#cb161-118"></a></span>
<span id="cb161-119"><a href="#cb161-119"></a></span>
<span id="cb161-120"><a href="#cb161-120"></a></span>
<span id="cb161-121"><a href="#cb161-121"></a></span>
<span id="cb161-122"><a href="#cb161-122"></a>**Data Frame/tibble**: A data frame is a named **list** with **elements** of equal length. </span>
<span id="cb161-123"><a href="#cb161-123"></a></span>
<span id="cb161-124"><a href="#cb161-124"></a><span class="ss">- </span>Each element is a "column" in the data frame. </span>
<span id="cb161-125"><a href="#cb161-125"></a><span class="ss">- </span>The columns can be of different types (e.g., character, numeric, logical, lists, etc.). </span>
<span id="cb161-126"><a href="#cb161-126"></a><span class="ss">- </span>Data frames are the most common way to store data in R.</span>
<span id="cb161-127"><a href="#cb161-127"></a><span class="ss">- </span><span class="co">[</span><span class="ot">Tibbles do less and complain more than base data.frames</span><span class="co">](https://tibble.tidyverse.org/reference/tbl_df-class.html)</span></span>
<span id="cb161-128"><a href="#cb161-128"></a></span>
<span id="cb161-131"><a href="#cb161-131"></a><span class="in">```{r}</span></span>
<span id="cb161-132"><a href="#cb161-132"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb161-133"><a href="#cb161-133"></a>mod_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">y =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">+</span> <span class="fu">rnorm</span>(<span class="dv">10</span>))</span>
<span id="cb161-134"><a href="#cb161-134"></a></span>
<span id="cb161-135"><a href="#cb161-135"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">b =</span> <span class="fu">c</span>(<span class="st">"constant"</span>, <span class="st">"x"</span>, <span class="st">"x squared"</span>), <span class="at">d =</span> <span class="fu">list</span>(<span class="fu">lm</span>(y <span class="sc">~</span> <span class="dv">1</span>, <span class="at">data =</span> mod_df), <span class="fu">lm</span>(y <span class="sc">~</span> x, <span class="at">data =</span> mod_df), <span class="fu">lm</span>(y <span class="sc">~</span> x <span class="sc">+</span> <span class="fu">I</span>(x<span class="sc">^</span><span class="dv">2</span>), <span class="at">data =</span> mod_df)))</span>
<span id="cb161-136"><a href="#cb161-136"></a>df</span>
<span id="cb161-137"><a href="#cb161-137"></a></span>
<span id="cb161-138"><a href="#cb161-138"></a><span class="fu">length</span>(df) <span class="co"># number of "elements" in a data frame is the number of "columns"</span></span>
<span id="cb161-139"><a href="#cb161-139"></a></span>
<span id="cb161-140"><a href="#cb161-140"></a><span class="in">```</span></span>
<span id="cb161-141"><a href="#cb161-141"></a></span>
<span id="cb161-142"><a href="#cb161-142"></a></span>
<span id="cb161-143"><a href="#cb161-143"></a></span>
<span id="cb161-144"><a href="#cb161-144"></a></span>
<span id="cb161-145"><a href="#cb161-145"></a><span class="fu">## Base R Subsetting </span></span>
<span id="cb161-146"><a href="#cb161-146"></a></span>
<span id="cb161-147"><a href="#cb161-147"></a>The content here comes from Chapter 27 of R4DS, with some small additions.</span>
<span id="cb161-148"><a href="#cb161-148"></a></span>
<span id="cb161-149"><a href="#cb161-149"></a><span class="fu">## Selecting elements with `[` </span></span>
<span id="cb161-150"><a href="#cb161-150"></a></span>
<span id="cb161-151"><a href="#cb161-151"></a>We can subset common R structures and **maintain the class structure** with <span class="in">`[ ]`</span>.</span>
<span id="cb161-152"><a href="#cb161-152"></a></span>
<span id="cb161-153"><a href="#cb161-153"></a>There are four main types of things that you can subset with, i.e., that can be the <span class="in">`i`</span> in <span class="in">`x[i]`</span>:</span>
<span id="cb161-154"><a href="#cb161-154"></a></span>
<span id="cb161-155"><a href="#cb161-155"></a><span class="ss">1.  </span>**A vector of positive integers**.</span>
<span id="cb161-156"><a href="#cb161-156"></a>    Subsetting with positive integers keeps the elements at those positions:</span>
<span id="cb161-157"><a href="#cb161-157"></a></span>
<span id="cb161-160"><a href="#cb161-160"></a><span class="in">```{r}</span></span>
<span id="cb161-161"><a href="#cb161-161"></a><span class="co"># Vectors</span></span>
<span id="cb161-162"><a href="#cb161-162"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"one"</span>, <span class="st">"two"</span>, <span class="st">"three"</span>, <span class="st">"four"</span>, <span class="st">"five"</span>)</span>
<span id="cb161-163"><a href="#cb161-163"></a>x[<span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">5</span>)]</span>
<span id="cb161-164"><a href="#cb161-164"></a>x[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>]</span>
<span id="cb161-165"><a href="#cb161-165"></a><span class="fu">class</span>(x[<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>]) <span class="co"># result is a character vector</span></span>
<span id="cb161-166"><a href="#cb161-166"></a><span class="in">```</span></span>
<span id="cb161-167"><a href="#cb161-167"></a></span>
<span id="cb161-168"><a href="#cb161-168"></a></span>
<span id="cb161-171"><a href="#cb161-171"></a><span class="in">```{r}</span></span>
<span id="cb161-172"><a href="#cb161-172"></a><span class="co"># Lists</span></span>
<span id="cb161-173"><a href="#cb161-173"></a>y <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">a =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="at">b =</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>), <span class="at">c =</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">nrow =</span> <span class="dv">2</span>))</span>
<span id="cb161-174"><a href="#cb161-174"></a>y[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)]</span>
<span id="cb161-175"><a href="#cb161-175"></a></span>
<span id="cb161-176"><a href="#cb161-176"></a><span class="fu">class</span>(y[<span class="fu">c</span>(<span class="dv">1</span>)]) <span class="co"># result is a list</span></span>
<span id="cb161-177"><a href="#cb161-177"></a><span class="in">```</span></span>
<span id="cb161-178"><a href="#cb161-178"></a></span>
<span id="cb161-179"><a href="#cb161-179"></a></span>
<span id="cb161-180"><a href="#cb161-180"></a>By repeating a position, you can actually make a longer output than input, making the term "subsetting" a bit of a misnomer.</span>
<span id="cb161-181"><a href="#cb161-181"></a></span>
<span id="cb161-184"><a href="#cb161-184"></a><span class="in">```{r}</span></span>
<span id="cb161-185"><a href="#cb161-185"></a><span class="co"># Vector</span></span>
<span id="cb161-186"><a href="#cb161-186"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>)]</span>
<span id="cb161-187"><a href="#cb161-187"></a></span>
<span id="cb161-188"><a href="#cb161-188"></a><span class="co"># List</span></span>
<span id="cb161-189"><a href="#cb161-189"></a>y[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>)]</span>
<span id="cb161-190"><a href="#cb161-190"></a><span class="in">```</span></span>
<span id="cb161-191"><a href="#cb161-191"></a></span>
<span id="cb161-192"><a href="#cb161-192"></a></span>
<span id="cb161-193"><a href="#cb161-193"></a><span class="ss">2.  </span>**A vector of negative integers**.</span>
<span id="cb161-194"><a href="#cb161-194"></a>    Negative values drop the elements at the specified positions:</span>
<span id="cb161-195"><a href="#cb161-195"></a></span>
<span id="cb161-198"><a href="#cb161-198"></a><span class="in">```{r}</span></span>
<span id="cb161-199"><a href="#cb161-199"></a><span class="co"># Vector</span></span>
<span id="cb161-200"><a href="#cb161-200"></a>x[<span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span><span class="dv">3</span>, <span class="sc">-</span><span class="dv">5</span>)]</span>
<span id="cb161-201"><a href="#cb161-201"></a></span>
<span id="cb161-202"><a href="#cb161-202"></a><span class="co"># List</span></span>
<span id="cb161-203"><a href="#cb161-203"></a>y[<span class="fu">c</span>(<span class="sc">-</span><span class="dv">1</span>)]</span>
<span id="cb161-204"><a href="#cb161-204"></a></span>
<span id="cb161-205"><a href="#cb161-205"></a><span class="in">```</span></span>
<span id="cb161-206"><a href="#cb161-206"></a></span>
<span id="cb161-207"><a href="#cb161-207"></a></span>
<span id="cb161-208"><a href="#cb161-208"></a><span class="ss">3.  </span>**A logical vector**.</span>
<span id="cb161-209"><a href="#cb161-209"></a>    Subsetting with a logical vector only keeps values corresponding to <span class="in">`TRUE`</span>.</span>
<span id="cb161-210"><a href="#cb161-210"></a>    This is generally used with comparison functions and operators.</span>
<span id="cb161-211"><a href="#cb161-211"></a></span>
<span id="cb161-214"><a href="#cb161-214"></a><span class="in">```{r}</span></span>
<span id="cb161-215"><a href="#cb161-215"></a><span class="co"># Vector</span></span>
<span id="cb161-216"><a href="#cb161-216"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">3</span>, <span class="cn">NA</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">1</span>, <span class="cn">NA</span>)</span>
<span id="cb161-217"><a href="#cb161-217"></a></span>
<span id="cb161-218"><a href="#cb161-218"></a><span class="co"># All non-missing values of x</span></span>
<span id="cb161-219"><a href="#cb161-219"></a>x[<span class="sc">!</span><span class="fu">is.na</span>(x)]</span>
<span id="cb161-220"><a href="#cb161-220"></a></span>
<span id="cb161-221"><a href="#cb161-221"></a><span class="co"># All values greater than 5, with NAs</span></span>
<span id="cb161-222"><a href="#cb161-222"></a>x[x <span class="sc">&gt;</span> <span class="dv">5</span>]</span>
<span id="cb161-223"><a href="#cb161-223"></a>    </span>
<span id="cb161-224"><a href="#cb161-224"></a><span class="co"># All non-missing values greater than 5</span></span>
<span id="cb161-225"><a href="#cb161-225"></a>x[x <span class="sc">&gt;</span> <span class="dv">5</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(x)]</span>
<span id="cb161-226"><a href="#cb161-226"></a><span class="in">```</span></span>
<span id="cb161-227"><a href="#cb161-227"></a></span>
<span id="cb161-228"><a href="#cb161-228"></a></span>
<span id="cb161-229"><a href="#cb161-229"></a>Unlike <span class="in">`filter()`</span>, <span class="in">`NA`</span> indices will be included in the output as <span class="in">`NA`</span>s unless you explicitly remove them (<span class="in">`filter()`</span> removes instances of missing values by default.</span>
<span id="cb161-230"><a href="#cb161-230"></a></span>
<span id="cb161-233"><a href="#cb161-233"></a><span class="in">```{r}</span></span>
<span id="cb161-234"><a href="#cb161-234"></a><span class="co"># Compare with filter </span></span>
<span id="cb161-235"><a href="#cb161-235"></a><span class="fu">filter</span>(<span class="fu">tibble</span>(<span class="at">x =</span> x), x <span class="sc">&gt;</span> <span class="dv">5</span>)</span>
<span id="cb161-236"><a href="#cb161-236"></a><span class="in">```</span></span>
<span id="cb161-237"><a href="#cb161-237"></a></span>
<span id="cb161-238"><a href="#cb161-238"></a></span>
<span id="cb161-241"><a href="#cb161-241"></a><span class="in">```{r}</span></span>
<span id="cb161-242"><a href="#cb161-242"></a><span class="co"># List</span></span>
<span id="cb161-243"><a href="#cb161-243"></a>y[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)]</span>
<span id="cb161-244"><a href="#cb161-244"></a>y[y <span class="sc">|&gt;</span> <span class="fu">map_lgl</span>(<span class="sc">~</span> <span class="fu">is.numeric</span>(.x))] <span class="co"># example of a map function!</span></span>
<span id="cb161-245"><a href="#cb161-245"></a>y[y <span class="sc">|&gt;</span> <span class="fu">map_lgl</span>(<span class="sc">~</span> <span class="fu">is.character</span>(.x))]</span>
<span id="cb161-246"><a href="#cb161-246"></a><span class="in">```</span></span>
<span id="cb161-247"><a href="#cb161-247"></a></span>
<span id="cb161-248"><a href="#cb161-248"></a></span>
<span id="cb161-249"><a href="#cb161-249"></a></span>
<span id="cb161-250"><a href="#cb161-250"></a><span class="ss">4.  </span>**A character vector**.</span>
<span id="cb161-251"><a href="#cb161-251"></a>    If you have a named vector or list, you can subset it with a character vector:</span>
<span id="cb161-252"><a href="#cb161-252"></a></span>
<span id="cb161-255"><a href="#cb161-255"></a><span class="in">```{r}</span></span>
<span id="cb161-256"><a href="#cb161-256"></a><span class="co"># Named Vector</span></span>
<span id="cb161-257"><a href="#cb161-257"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">abc =</span> <span class="dv">1</span>, <span class="at">def =</span> <span class="dv">2</span>, <span class="at">xyz =</span> <span class="dv">5</span>)</span>
<span id="cb161-258"><a href="#cb161-258"></a>x[<span class="fu">c</span>(<span class="st">"xyz"</span>, <span class="st">"def"</span>)]</span>
<span id="cb161-259"><a href="#cb161-259"></a>x[<span class="fu">c</span>(<span class="st">"xyz"</span>,<span class="st">"xyz"</span>,<span class="st">"xyz"</span>, <span class="st">"def"</span>)]</span>
<span id="cb161-260"><a href="#cb161-260"></a></span>
<span id="cb161-261"><a href="#cb161-261"></a><span class="co">#Named List</span></span>
<span id="cb161-262"><a href="#cb161-262"></a>y[<span class="fu">c</span>(<span class="st">'a'</span>,<span class="st">'a'</span>,<span class="st">'c'</span>)]</span>
<span id="cb161-263"><a href="#cb161-263"></a><span class="in">```</span></span>
<span id="cb161-264"><a href="#cb161-264"></a></span>
<span id="cb161-265"><a href="#cb161-265"></a>As with subsetting with positive integers, you can use a character vector to duplicate individual entries.</span>
<span id="cb161-266"><a href="#cb161-266"></a></span>
<span id="cb161-267"><a href="#cb161-267"></a></span>
<span id="cb161-268"><a href="#cb161-268"></a>**Be very wary of vector recycling when doing this!** </span>
<span id="cb161-269"><a href="#cb161-269"></a>The number of things that you're inserting should either be 1 or the size of the <span class="in">`x[i]`</span> subset.</span>
<span id="cb161-270"><a href="#cb161-270"></a></span>
<span id="cb161-273"><a href="#cb161-273"></a><span class="in">```{r}</span></span>
<span id="cb161-274"><a href="#cb161-274"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">first =</span> <span class="st">"one"</span>, <span class="at">second =</span> <span class="st">"two"</span>, <span class="at">third =</span> <span class="st">"three"</span>, <span class="at">fourth =</span> <span class="st">"four"</span>)</span>
<span id="cb161-275"><a href="#cb161-275"></a>x</span>
<span id="cb161-276"><a href="#cb161-276"></a><span class="in">```</span></span>
<span id="cb161-277"><a href="#cb161-277"></a></span>
<span id="cb161-278"><a href="#cb161-278"></a></span>
<span id="cb161-281"><a href="#cb161-281"></a><span class="in">```{r}</span></span>
<span id="cb161-282"><a href="#cb161-282"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)] <span class="ot">&lt;-</span> <span class="st">"new"</span> <span class="co"># Replacement length is 1</span></span>
<span id="cb161-283"><a href="#cb161-283"></a>x</span>
<span id="cb161-284"><a href="#cb161-284"></a><span class="in">```</span></span>
<span id="cb161-285"><a href="#cb161-285"></a></span>
<span id="cb161-286"><a href="#cb161-286"></a></span>
<span id="cb161-289"><a href="#cb161-289"></a><span class="in">```{r}</span></span>
<span id="cb161-290"><a href="#cb161-290"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">first =</span> <span class="st">"one"</span>, <span class="at">second =</span> <span class="st">"two"</span>, <span class="at">third =</span> <span class="st">"three"</span>, <span class="at">fourth =</span> <span class="st">"four"</span>)</span>
<span id="cb161-291"><a href="#cb161-291"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"new1"</span>, <span class="st">"new2"</span>) <span class="co"># Replacement length is 2, and length of subset is 2</span></span>
<span id="cb161-292"><a href="#cb161-292"></a>x</span>
<span id="cb161-293"><a href="#cb161-293"></a><span class="in">```</span></span>
<span id="cb161-294"><a href="#cb161-294"></a></span>
<span id="cb161-295"><a href="#cb161-295"></a></span>
<span id="cb161-298"><a href="#cb161-298"></a><span class="in">```{r}</span></span>
<span id="cb161-299"><a href="#cb161-299"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">first =</span> <span class="st">"one"</span>, <span class="at">second =</span> <span class="st">"two"</span>, <span class="at">third =</span> <span class="st">"three"</span>, <span class="at">fourth =</span> <span class="st">"four"</span>)</span>
<span id="cb161-300"><a href="#cb161-300"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"new1"</span>, <span class="st">"new2"</span>) <span class="co"># BAD! Replacement length is 2, and length of subset is 3</span></span>
<span id="cb161-301"><a href="#cb161-301"></a>x</span>
<span id="cb161-302"><a href="#cb161-302"></a><span class="in">```</span></span>
<span id="cb161-303"><a href="#cb161-303"></a></span>
<span id="cb161-304"><a href="#cb161-304"></a></span>
<span id="cb161-307"><a href="#cb161-307"></a><span class="in">```{r}</span></span>
<span id="cb161-308"><a href="#cb161-308"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="at">first =</span> <span class="st">"one"</span>, <span class="at">second =</span> <span class="st">"two"</span>, <span class="at">third =</span> <span class="st">"three"</span>, <span class="at">fourth =</span> <span class="st">"four"</span>)</span>
<span id="cb161-309"><a href="#cb161-309"></a>x[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"new1"</span>, <span class="st">"new2"</span>, <span class="st">"new3"</span>) <span class="co"># BAD! Replacement length is 3, and length of subset is 2</span></span>
<span id="cb161-310"><a href="#cb161-310"></a>x</span>
<span id="cb161-311"><a href="#cb161-311"></a><span class="in">```</span></span>
<span id="cb161-312"><a href="#cb161-312"></a></span>
<span id="cb161-313"><a href="#cb161-313"></a><span class="fu">## Subsetting Matricies and Data Frames with `[` </span></span>
<span id="cb161-314"><a href="#cb161-314"></a></span>
<span id="cb161-315"><a href="#cb161-315"></a>All of the above subsetting options can be used for subsetting matrices and data frames (named list of elements of equal length). </span>
<span id="cb161-316"><a href="#cb161-316"></a></span>
<span id="cb161-319"><a href="#cb161-319"></a><span class="in">```{r}</span></span>
<span id="cb161-320"><a href="#cb161-320"></a>m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>, <span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">4</span>)</span>
<span id="cb161-321"><a href="#cb161-321"></a>m</span>
<span id="cb161-322"><a href="#cb161-322"></a></span>
<span id="cb161-323"><a href="#cb161-323"></a>m[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="co"># Matrix = vector (down the columns) with dimensions</span></span>
<span id="cb161-324"><a href="#cb161-324"></a><span class="in">```</span></span>
<span id="cb161-325"><a href="#cb161-325"></a></span>
<span id="cb161-326"><a href="#cb161-326"></a>You can use a comma to subset by rows and columns separately.</span>
<span id="cb161-327"><a href="#cb161-327"></a></span>
<span id="cb161-328"><a href="#cb161-328"></a></span>
<span id="cb161-331"><a href="#cb161-331"></a><span class="in">```{r}</span></span>
<span id="cb161-332"><a href="#cb161-332"></a>m[<span class="dv">1</span>,] <span class="co"># Get 1st row</span></span>
<span id="cb161-333"><a href="#cb161-333"></a>m[,<span class="dv">1</span>] <span class="co"># Get 1st column</span></span>
<span id="cb161-334"><a href="#cb161-334"></a><span class="in">```</span></span>
<span id="cb161-335"><a href="#cb161-335"></a></span>
<span id="cb161-336"><a href="#cb161-336"></a>. . .</span>
<span id="cb161-337"><a href="#cb161-337"></a></span>
<span id="cb161-340"><a href="#cb161-340"></a><span class="in">```{r}</span></span>
<span id="cb161-341"><a href="#cb161-341"></a>m[<span class="dv">1</span>,<span class="dv">3</span>] <span class="co"># Get 1st row and 3rd column</span></span>
<span id="cb161-342"><a href="#cb161-342"></a></span>
<span id="cb161-343"><a href="#cb161-343"></a>m[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>),] <span class="co"># Get 1st and 3rd rows</span></span>
<span id="cb161-344"><a href="#cb161-344"></a>m[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)] <span class="co"># Get 1st and 3rd columns</span></span>
<span id="cb161-345"><a href="#cb161-345"></a>m[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>),<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>)] <span class="co"># Get 1st and 3rd rows and 1st and 3rd columns</span></span>
<span id="cb161-346"><a href="#cb161-346"></a></span>
<span id="cb161-347"><a href="#cb161-347"></a>m[<span class="sc">-</span><span class="dv">1</span>,] <span class="co"># Get all rows except 1st</span></span>
<span id="cb161-348"><a href="#cb161-348"></a>m[<span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>),] <span class="co"># Get the 1st row via a logical</span></span>
<span id="cb161-349"><a href="#cb161-349"></a></span>
<span id="cb161-350"><a href="#cb161-350"></a></span>
<span id="cb161-351"><a href="#cb161-351"></a><span class="co"># Add row and column names to the matrix</span></span>
<span id="cb161-352"><a href="#cb161-352"></a><span class="fu">colnames</span>(m) <span class="ot">&lt;-</span> <span class="fu">str_c</span>(<span class="st">"col"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>)</span>
<span id="cb161-353"><a href="#cb161-353"></a><span class="fu">rownames</span>(m) <span class="ot">&lt;-</span> <span class="fu">str_c</span>(<span class="st">"row"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span>
<span id="cb161-354"><a href="#cb161-354"></a>m[<span class="st">"row1"</span>,]</span>
<span id="cb161-355"><a href="#cb161-355"></a></span>
<span id="cb161-356"><a href="#cb161-356"></a><span class="in">```</span></span>
<span id="cb161-357"><a href="#cb161-357"></a></span>
<span id="cb161-358"><a href="#cb161-358"></a><span class="fu">## Selecting a single element with `$` and `[[` </span></span>
<span id="cb161-359"><a href="#cb161-359"></a></span>
<span id="cb161-360"><a href="#cb161-360"></a>We can use <span class="in">`$`</span> and <span class="in">`[[`</span> to extract a single column of a data frame or an element within a list. This **breaks out of the original class structure**.</span>
<span id="cb161-361"><a href="#cb161-361"></a></span>
<span id="cb161-364"><a href="#cb161-364"></a><span class="in">```{r}</span></span>
<span id="cb161-365"><a href="#cb161-365"></a>mtcars</span>
<span id="cb161-366"><a href="#cb161-366"></a>mtcars<span class="sc">$</span>mpg</span>
<span id="cb161-367"><a href="#cb161-367"></a>mtcars[[<span class="st">"mpg"</span>]]</span>
<span id="cb161-368"><a href="#cb161-368"></a>mtcars <span class="sc">|&gt;</span> <span class="fu">pull</span>(mpg)</span>
<span id="cb161-369"><a href="#cb161-369"></a><span class="in">```</span></span>
<span id="cb161-370"><a href="#cb161-370"></a></span>
<span id="cb161-371"><a href="#cb161-371"></a><span class="fu">## Exercises </span></span>
<span id="cb161-372"><a href="#cb161-372"></a></span>
<span id="cb161-373"><a href="#cb161-373"></a><span class="ss">1. </span>**Subsetting Functions** For each of the tasks below, write a function that take a vector as input returns the desired output:</span>
<span id="cb161-374"><a href="#cb161-374"></a></span>
<span id="cb161-375"><a href="#cb161-375"></a>a. The elements at even-numbered positions. (Hint: use the <span class="in">`seq()`</span> function.)</span>
<span id="cb161-376"><a href="#cb161-376"></a>b. Every element except the last value.</span>
<span id="cb161-377"><a href="#cb161-377"></a>c. Only even values (and no missing values).</span>
<span id="cb161-378"><a href="#cb161-378"></a></span>
<span id="cb161-379"><a href="#cb161-379"></a><span class="fu">## Exploring the structure of an object with `str()`  </span></span>
<span id="cb161-380"><a href="#cb161-380"></a></span>
<span id="cb161-381"><a href="#cb161-381"></a>The <span class="in">`str()`</span> function shows you the structure of an object and is useful for exploring model objects and objects created from packages that are new to you. </span>
<span id="cb161-382"><a href="#cb161-382"></a></span>
<span id="cb161-383"><a href="#cb161-383"></a>In the output of <span class="in">`str()`</span> dollar signs indicate named components of a list that can be extracted via <span class="in">`$`</span> or <span class="in">`[[`</span>.</span>
<span id="cb161-384"><a href="#cb161-384"></a></span>
<span id="cb161-385"><a href="#cb161-385"></a>. . .</span>
<span id="cb161-386"><a href="#cb161-386"></a></span>
<span id="cb161-387"><a href="#cb161-387"></a>We see that both <span class="in">`mod`</span> and <span class="in">`mod_summ`</span> are lists, so we can also interactively view these objects with <span class="in">`View(mod)`</span> and <span class="in">`View(mod_summ)`</span> in the Console.</span>
<span id="cb161-388"><a href="#cb161-388"></a></span>
<span id="cb161-391"><a href="#cb161-391"></a><span class="in">```{r}</span></span>
<span id="cb161-392"><a href="#cb161-392"></a>mod <span class="ot">&lt;-</span> <span class="fu">lm</span>(mpg <span class="sc">~</span> hp <span class="sc">+</span> wt, <span class="at">data =</span> mtcars)</span>
<span id="cb161-393"><a href="#cb161-393"></a>mod_summ <span class="ot">&lt;-</span> <span class="fu">summary</span>(mod)</span>
<span id="cb161-394"><a href="#cb161-394"></a></span>
<span id="cb161-395"><a href="#cb161-395"></a><span class="fu">str</span>(mod)</span>
<span id="cb161-396"><a href="#cb161-396"></a><span class="fu">str</span>(mod_summ)</span>
<span id="cb161-397"><a href="#cb161-397"></a></span>
<span id="cb161-398"><a href="#cb161-398"></a><span class="in">```</span></span>
<span id="cb161-401"><a href="#cb161-401"></a><span class="in">```{r}</span></span>
<span id="cb161-402"><a href="#cb161-402"></a>get_even_pos <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb161-403"><a href="#cb161-403"></a>    <span class="cf">if</span> (<span class="fu">length</span>(x) <span class="sc">&lt;=</span> <span class="dv">1</span>) {</span>
<span id="cb161-404"><a href="#cb161-404"></a>        <span class="fu">print</span>(<span class="st">"No even positions"</span>)</span>
<span id="cb161-405"><a href="#cb161-405"></a>    } <span class="cf">else</span> {</span>
<span id="cb161-406"><a href="#cb161-406"></a>        idx <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">2</span>, <span class="fu">length</span>(x), <span class="at">by =</span> <span class="dv">2</span>)</span>
<span id="cb161-407"><a href="#cb161-407"></a>        x[idx]</span>
<span id="cb161-408"><a href="#cb161-408"></a>    }</span>
<span id="cb161-409"><a href="#cb161-409"></a>}</span>
<span id="cb161-410"><a href="#cb161-410"></a><span class="fu">get_even_pos</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb161-411"><a href="#cb161-411"></a><span class="fu">get_even_pos</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>)</span>
<span id="cb161-412"><a href="#cb161-412"></a><span class="fu">get_even_pos</span>(<span class="dv">1</span>)</span>
<span id="cb161-413"><a href="#cb161-413"></a>get_all_but_last <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb161-414"><a href="#cb161-414"></a>    <span class="fu">head</span>(x, <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb161-415"><a href="#cb161-415"></a>    <span class="co"># x[1:(length(x)-1)]</span></span>
<span id="cb161-416"><a href="#cb161-416"></a>}</span>
<span id="cb161-417"><a href="#cb161-417"></a><span class="fu">get_all_but_last</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>)</span>
<span id="cb161-418"><a href="#cb161-418"></a>get_evens <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb161-419"><a href="#cb161-419"></a>    x[x <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(x)]</span>
<span id="cb161-420"><a href="#cb161-420"></a>}</span>
<span id="cb161-421"><a href="#cb161-421"></a></span>
<span id="cb161-422"><a href="#cb161-422"></a><span class="fu">get_evens</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">7</span>, <span class="cn">NA</span>))</span>
<span id="cb161-423"><a href="#cb161-423"></a><span class="fu">get_evens</span>(<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="cn">NA</span>))</span>
<span id="cb161-424"><a href="#cb161-424"></a></span>
<span id="cb161-425"><a href="#cb161-425"></a><span class="in">```</span></span>
<span id="cb161-426"><a href="#cb161-426"></a></span>
<span id="cb161-427"><a href="#cb161-427"></a><span class="fu">## Exercise </span></span>
<span id="cb161-428"><a href="#cb161-428"></a></span>
<span id="cb161-429"><a href="#cb161-429"></a><span class="ss">2. </span>**CI Function** Write a function that fits a linear model on the dataset using the given outcome and predictor variables and return a data frame (<span class="in">`tibble`</span>) with the coefficient estimate and CI for the predictor of interest. It should take the following inputs:</span>
<span id="cb161-430"><a href="#cb161-430"></a></span>
<span id="cb161-431"><a href="#cb161-431"></a><span class="ss">- </span><span class="in">`data`</span>: A dataset</span>
<span id="cb161-432"><a href="#cb161-432"></a><span class="ss">- </span><span class="in">`yvar`</span>: Outcome variable to be used in a linear model (a length-1 character vector)</span>
<span id="cb161-433"><a href="#cb161-433"></a><span class="ss">- </span><span class="in">`preds`</span>: Predictor variables to be used in a linear model (a character vector)</span>
<span id="cb161-434"><a href="#cb161-434"></a><span class="ss">- </span><span class="in">`pred_of_interest`</span>: The variable whose coefficient estimate and confidence interval are of interest (a length-1 character vector and should be one of <span class="in">`preds`</span>)</span>
<span id="cb161-435"><a href="#cb161-435"></a></span>
<span id="cb161-436"><a href="#cb161-436"></a>Development tip: As you develop, it will help to create objects for the arguments so that you can see what output looks like interactively:</span>
<span id="cb161-437"><a href="#cb161-437"></a></span>
<span id="cb161-438"><a href="#cb161-438"></a>Test your function on the <span class="in">`mtcars`</span> dataset.</span>
<span id="cb161-439"><a href="#cb161-439"></a></span>
<span id="cb161-440"><a href="#cb161-440"></a><span class="in">```{r eval=FALSE}</span></span>
<span id="cb161-441"><a href="#cb161-441"></a><span class="in">data &lt;- mtcars</span></span>
<span id="cb161-442"><a href="#cb161-442"></a><span class="in">yvar &lt;- "mpg"</span></span>
<span id="cb161-443"><a href="#cb161-443"></a><span class="in">preds &lt;- c("hp", "wt")</span></span>
<span id="cb161-444"><a href="#cb161-444"></a><span class="in">pred_of_interest &lt;- "hp"</span></span>
<span id="cb161-445"><a href="#cb161-445"></a><span class="in">```</span></span>
<span id="cb161-446"><a href="#cb161-446"></a></span>
<span id="cb161-447"><a href="#cb161-447"></a>When you're done developing your function, remove these objects to declutter your environment by entering <span class="in">`rm(data, yvar, preds, pred_of_interest)`</span> in the Console.</span>
<span id="cb161-448"><a href="#cb161-448"></a></span>
<span id="cb161-449"><a href="#cb161-449"></a><span class="in">```{r eval=FALSE}</span></span>
<span id="cb161-450"><a href="#cb161-450"></a></span>
<span id="cb161-451"><a href="#cb161-451"></a><span class="in">fit_mod_and_extract &lt;- function(data, yvar, preds, pred_of_interest) {</span></span>
<span id="cb161-452"><a href="#cb161-452"></a><span class="in">    # Use str_c to create a string (formula_str) that looks like "yvar ~ pred1 + pred2"</span></span>
<span id="cb161-453"><a href="#cb161-453"></a><span class="in">    # Look at the documentation for a helpful argument</span></span>
<span id="cb161-454"><a href="#cb161-454"></a><span class="in">    mod_formula_str &lt;- str_c(yvar, "~", str_c(preds, collapse = "+"))</span></span>
<span id="cb161-455"><a href="#cb161-455"></a><span class="in">    mod_form &lt;- as.formula(mod_formula_str)</span></span>
<span id="cb161-456"><a href="#cb161-456"></a><span class="in">    </span></span>
<span id="cb161-457"><a href="#cb161-457"></a><span class="in">    # Fit a linear model using the constructed formula and given data</span></span>
<span id="cb161-458"><a href="#cb161-458"></a><span class="in">    mod &lt;- lm(mod_form, data = data)</span></span>
<span id="cb161-459"><a href="#cb161-459"></a><span class="in">    </span></span>
<span id="cb161-460"><a href="#cb161-460"></a><span class="in">    # Obtain 95% confidence interval</span></span>
<span id="cb161-461"><a href="#cb161-461"></a><span class="in">    ci &lt;- confint(mod, level = 0.95)</span></span>
<span id="cb161-462"><a href="#cb161-462"></a><span class="in">    </span></span>
<span id="cb161-463"><a href="#cb161-463"></a><span class="in">    # Return the coefficient estimate and CI for the predictor of interest</span></span>
<span id="cb161-464"><a href="#cb161-464"></a><span class="in">    tibble(</span></span>
<span id="cb161-465"><a href="#cb161-465"></a><span class="in">        which_pred = pred_of_interest,</span></span>
<span id="cb161-466"><a href="#cb161-466"></a><span class="in">        estimate = mod$coefficients[pred_of_interest],</span></span>
<span id="cb161-467"><a href="#cb161-467"></a><span class="in">        ci_lower = ci[pred_of_interest, "2.5 %"],</span></span>
<span id="cb161-468"><a href="#cb161-468"></a><span class="in">        ci_upper = ci[pred_of_interest, "97.5 %"]</span></span>
<span id="cb161-469"><a href="#cb161-469"></a><span class="in">    )</span></span>
<span id="cb161-470"><a href="#cb161-470"></a><span class="in">}</span></span>
<span id="cb161-471"><a href="#cb161-471"></a></span>
<span id="cb161-472"><a href="#cb161-472"></a></span>
<span id="cb161-473"><a href="#cb161-473"></a><span class="in">fit_mod_and_extract(data = mtcars, yvar = "mpg", preds = c("hp", "wt"), pred_of_interest = "hp")</span></span>
<span id="cb161-474"><a href="#cb161-474"></a><span class="in">```</span></span>
<span id="cb161-475"><a href="#cb161-475"></a></span>
<span id="cb161-476"><a href="#cb161-476"></a></span>
<span id="cb161-477"><a href="#cb161-477"></a></span>
<span id="cb161-478"><a href="#cb161-478"></a></span>
<span id="cb161-479"><a href="#cb161-479"></a></span>
<span id="cb161-480"><a href="#cb161-480"></a><span class="in">```</span></span>
<span id="cb161-481"><a href="#cb161-481"></a></span>
<span id="cb161-482"><a href="#cb161-482"></a></span>
<span id="cb161-483"><a href="#cb161-483"></a></span>
<span id="cb161-484"><a href="#cb161-484"></a></span>
<span id="cb161-485"><a href="#cb161-485"></a><span class="in">## Debugging Strategies   </span></span>
<span id="cb161-486"><a href="#cb161-486"></a></span>
<span id="cb161-487"><a href="#cb161-487"></a><span class="in">When writing functions and working with functions that you wrote, you may encounter errors that are hard to figure out. </span></span>
<span id="cb161-488"><a href="#cb161-488"></a></span>
<span id="cb161-489"><a href="#cb161-489"></a><span class="in">Here are some strategies to help you debug the issues you encounter:</span></span>
<span id="cb161-490"><a href="#cb161-490"></a></span>
<span id="cb161-491"><a href="#cb161-491"></a><span class="in">- Use `print()` and `cat()` to print out intermediate results and messages within a function.</span></span>
<span id="cb161-492"><a href="#cb161-492"></a><span class="in">  - Examples: `print(x)`, `cat("The value of x is", x, "\n")`</span></span>
<span id="cb161-493"><a href="#cb161-493"></a></span>
<span id="cb161-494"><a href="#cb161-494"></a><span class="in">```{r eval=FALSE}</span></span>
<span id="cb161-495"><a href="#cb161-495"></a><span class="in">My_own_sum &lt;- function(x){</span></span>
<span id="cb161-496"><a href="#cb161-496"></a><span class="in">  print(x)</span></span>
<span id="cb161-497"><a href="#cb161-497"></a><span class="in">  return(sum(x))</span></span>
<span id="cb161-498"><a href="#cb161-498"></a><span class="in">}</span></span>
<span id="cb161-499"><a href="#cb161-499"></a><span class="in">My_own_sum(c(1,2,3))</span></span>
<span id="cb161-500"><a href="#cb161-500"></a></span>
<span id="cb161-501"><a href="#cb161-501"></a><span class="in">My_own_sum &lt;- function(x){</span></span>
<span id="cb161-502"><a href="#cb161-502"></a><span class="in">  cat("The value of x is", x, "\n")</span></span>
<span id="cb161-503"><a href="#cb161-503"></a><span class="in">  cat("The class of x is", class(x), "\n")</span></span>
<span id="cb161-504"><a href="#cb161-504"></a><span class="in">  return(sum(x))</span></span>
<span id="cb161-505"><a href="#cb161-505"></a><span class="in">}</span></span>
<span id="cb161-506"><a href="#cb161-506"></a></span>
<span id="cb161-507"><a href="#cb161-507"></a><span class="in">My_own_sum(c(1,2,3))</span></span>
<span id="cb161-508"><a href="#cb161-508"></a><span class="in">```</span></span>
<span id="cb161-509"><a href="#cb161-509"></a></span>
<span id="cb161-510"><a href="#cb161-510"></a></span>
<span id="cb161-511"><a href="#cb161-511"></a><span class="ss">- </span>Use <span class="in">`browser()`</span> to pause the function at a certain point and interactively explore the environment. Press "Next" or type <span class="in">`n`</span> to run the next line of code. Type the name of an object in the Console to see its value at this point in the function. You can type <span class="in">`Q`</span> to quit the browser. </span>
<span id="cb161-512"><a href="#cb161-512"></a><span class="ss">  - </span>Example below:</span>
<span id="cb161-513"><a href="#cb161-513"></a>  </span>
<span id="cb161-514"><a href="#cb161-514"></a><span class="in">```{r eval = FALSE}</span></span>
<span id="cb161-515"><a href="#cb161-515"></a><span class="in">fit_mod_and_extract &lt;- function(data, yvar, preds, pred_of_interest) {</span></span>
<span id="cb161-516"><a href="#cb161-516"></a><span class="in">    # Use str_c to create a string (formula_str) that looks like "yvar ~ pred1 + pred2"</span></span>
<span id="cb161-517"><a href="#cb161-517"></a><span class="in">    # Look at the documentation for a helpful argument</span></span>
<span id="cb161-518"><a href="#cb161-518"></a><span class="in">    mod_formula_str &lt;- str_c(yvar, "~", str_c(preds, collapse = "+"))</span></span>
<span id="cb161-519"><a href="#cb161-519"></a><span class="in">    mod_form &lt;- as.formula(mod_formula_str)</span></span>
<span id="cb161-520"><a href="#cb161-520"></a><span class="in">    </span></span>
<span id="cb161-521"><a href="#cb161-521"></a><span class="in">    # Add browser() to where in the function you'd like to pause and interact in the function environment using the Console</span></span>
<span id="cb161-522"><a href="#cb161-522"></a><span class="in">    browser()</span></span>
<span id="cb161-523"><a href="#cb161-523"></a><span class="in">    </span></span>
<span id="cb161-524"><a href="#cb161-524"></a><span class="in">    # Fit a linear model using the constructed formula and given data</span></span>
<span id="cb161-525"><a href="#cb161-525"></a><span class="in">    mod &lt;- lm(mod_form, data = data)</span></span>
<span id="cb161-526"><a href="#cb161-526"></a><span class="in">    </span></span>
<span id="cb161-527"><a href="#cb161-527"></a><span class="in">    # Obtain 95% confidence interval</span></span>
<span id="cb161-528"><a href="#cb161-528"></a><span class="in">    ci &lt;- confint(mod, level = 0.95)</span></span>
<span id="cb161-529"><a href="#cb161-529"></a><span class="in">    </span></span>
<span id="cb161-530"><a href="#cb161-530"></a><span class="in">    # Return the coefficient estimate and CI for the predictor of interest</span></span>
<span id="cb161-531"><a href="#cb161-531"></a><span class="in">    tibble(</span></span>
<span id="cb161-532"><a href="#cb161-532"></a><span class="in">        which_pred = pred_of_interest,</span></span>
<span id="cb161-533"><a href="#cb161-533"></a><span class="in">        estimate = mod$coefficients[pred_of_interest],</span></span>
<span id="cb161-534"><a href="#cb161-534"></a><span class="in">        ci_lower = ci[pred_of_interest, "2.5 %"],</span></span>
<span id="cb161-535"><a href="#cb161-535"></a><span class="in">        ci_upper = ci[pred_of_interest, "97.5 %"]</span></span>
<span id="cb161-536"><a href="#cb161-536"></a><span class="in">    )</span></span>
<span id="cb161-537"><a href="#cb161-537"></a><span class="in">}</span></span>
<span id="cb161-538"><a href="#cb161-538"></a></span>
<span id="cb161-539"><a href="#cb161-539"></a></span>
<span id="cb161-540"><a href="#cb161-540"></a><span class="in">fit_mod_and_extract(data = mtcars, yvar = "mpg", preds = c("hp", "wt"), pred_of_interest = "hp")</span></span>
<span id="cb161-541"><a href="#cb161-541"></a><span class="in">```</span></span>
<span id="cb161-542"><a href="#cb161-542"></a></span>
<span id="cb161-543"><a href="#cb161-543"></a></span>
<span id="cb161-544"><a href="#cb161-544"></a><span class="ss">- </span>Use <span class="in">`try()`</span> to catch errors and print out a message when an error occurs.</span>
<span id="cb161-545"><a href="#cb161-545"></a><span class="ss">  - </span>Example below:</span>
<span id="cb161-546"><a href="#cb161-546"></a></span>
<span id="cb161-547"><a href="#cb161-547"></a><span class="in">```{r error=TRUE}</span></span>
<span id="cb161-548"><a href="#cb161-548"></a><span class="in">My_own_sum &lt;- function(x){</span></span>
<span id="cb161-549"><a href="#cb161-549"></a><span class="in">  return(sum(x))</span></span>
<span id="cb161-550"><a href="#cb161-550"></a><span class="in">}</span></span>
<span id="cb161-551"><a href="#cb161-551"></a></span>
<span id="cb161-552"><a href="#cb161-552"></a><span class="in">results &lt;- My_own_sum(c("a","b","c"))</span></span>
<span id="cb161-553"><a href="#cb161-553"></a><span class="in">class(results)</span></span>
<span id="cb161-554"><a href="#cb161-554"></a></span>
<span id="cb161-555"><a href="#cb161-555"></a><span class="in">results &lt;- try(My_own_sum(c("a","b","c")), silent = TRUE)</span></span>
<span id="cb161-556"><a href="#cb161-556"></a><span class="in">class(results)</span></span>
<span id="cb161-557"><a href="#cb161-557"></a></span>
<span id="cb161-558"><a href="#cb161-558"></a><span class="in">```</span></span>
<span id="cb161-559"><a href="#cb161-559"></a></span>
<span id="cb161-560"><a href="#cb161-560"></a></span>
<span id="cb161-561"><a href="#cb161-561"></a><span class="ss">- </span>Include <span class="in">`if else`</span> statements within a function to ensure that you are passing the right type of input to a function. You can create you own custom error message with <span class="in">`stop()`</span>. </span>
<span id="cb161-562"><a href="#cb161-562"></a><span class="ss">  - </span>Example below:</span>
<span id="cb161-563"><a href="#cb161-563"></a></span>
<span id="cb161-564"><a href="#cb161-564"></a><span class="in">```{r error=TRUE}</span></span>
<span id="cb161-565"><a href="#cb161-565"></a><span class="in">My_own_sum &lt;- function(x){</span></span>
<span id="cb161-566"><a href="#cb161-566"></a><span class="in">  if(!is.numeric(x)){</span></span>
<span id="cb161-567"><a href="#cb161-567"></a><span class="in">    stop("Input must be numeric")</span></span>
<span id="cb161-568"><a href="#cb161-568"></a><span class="in">  }</span></span>
<span id="cb161-569"><a href="#cb161-569"></a><span class="in">  return(sum(x))</span></span>
<span id="cb161-570"><a href="#cb161-570"></a><span class="in">}</span></span>
<span id="cb161-571"><a href="#cb161-571"></a></span>
<span id="cb161-572"><a href="#cb161-572"></a><span class="in">results &lt;- My_own_sum(c("a","b","c"))</span></span>
<span id="cb161-573"><a href="#cb161-573"></a><span class="in">class(results)</span></span>
<span id="cb161-574"><a href="#cb161-574"></a></span>
<span id="cb161-575"><a href="#cb161-575"></a><span class="in">results &lt;- try(My_own_sum(c("a","b","c")), silent = TRUE)</span></span>
<span id="cb161-576"><a href="#cb161-576"></a><span class="in">class(results)</span></span>
<span id="cb161-577"><a href="#cb161-577"></a></span>
<span id="cb161-578"><a href="#cb161-578"></a><span class="in">```</span></span>
<span id="cb161-579"><a href="#cb161-579"></a><span class="fu">## Done!</span></span>
<span id="cb161-580"><a href="#cb161-580"></a></span>
<span id="cb161-581"><a href="#cb161-581"></a><span class="ss">- </span>Check the ICA Instructions for how to (a) push your code to GitHub and (b) update your portfolio website</span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">

<div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>


<script src="../../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>